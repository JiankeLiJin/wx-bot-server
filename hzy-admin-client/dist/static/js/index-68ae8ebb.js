var ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get Base(){return J},get Circle(){return oc},get Ellipse(){return uc},get Image(){return hc},get Line(){return cc},get Marker(){return gc},get Path(){return Hn},get Polygon(){return bc},get Polyline(){return Pc},get Rect(){return Ic},get Text(){return Oc}}),ie=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get Base(){return q},get Circle(){return Xc},get Dom(){return $c},get Ellipse(){return zc},get Image(){return qc},get Line(){return Uc},get Marker(){return jc},get Path(){return Jc},get Polygon(){return tv},get Polyline(){return ev},get Rect(){return iv},get Text(){return hv}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Re=function(e,r){return Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Re(e,r)};function P(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Re(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var k=function(){return k=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},k.apply(this,arguments)};function os(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t}function Pv(e,r,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function s(h){try{f(n.next(h))}catch(l){o(l)}}function u(h){try{f(n.throw(h))}catch(l){o(l)}}function f(h){h.done?i(h.value):a(h.value).then(s,u)}f((n=n.apply(e,r||[])).next())})}function kv(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(h){return u([f,h])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(i=f[0]&2?a.return:f[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,f[1])).done)return i;switch(a=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,a=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(h){f=[6,h],a=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Tv(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dv(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),a,i=[],o;try{for(;(r===void 0||r-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}function ss(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),a=0,r=0;r<t;r++)for(var i=arguments[r],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function Xe(e,r,t){if(t||arguments.length===2)for(var n=0,a=r.length,i;n<a;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))}var H=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},us=function(e,r){return H(e)?e.indexOf(r)>-1:!1},$r=function(e,r){if(!H(e))return e;for(var t=[],n=0;n<e.length;n++){var a=e[n];r(a,n)&&t.push(a)}return t},Iv=function(e,r){return r===void 0&&(r=[]),$r(e,function(t){return!us(r,t)})},fs={}.toString,Et=function(e,r){return fs.call(e)==="[object "+r+"]"},R=function(e){return Et(e,"Function")},b=function(e){return e==null},D=function(e){return Array.isArray?Array.isArray(e):Et(e,"Array")},rt=function(e){var r=typeof e;return e!==null&&r==="object"||r==="function"};function A(e,r){if(!!e){var t;if(D(e))for(var n=0,a=e.length;n<a&&(t=r(e[n],n),t!==!1);n++);else if(rt(e)){for(var i in e)if(e.hasOwnProperty(i)&&(t=r(e[i],i),t===!1))break}}}var hs=Object.keys?function(e){return Object.keys(e)}:function(e){var r=[];return A(e,function(t,n){R(e)&&n==="prototype"||r.push(n)}),r};function ls(e,r){var t=hs(r),n=t.length;if(b(e))return!n;for(var a=0;a<n;a+=1){var i=t[a];if(r[i]!==e[i]||!(i in e))return!1}return!0}var He=function(e){return typeof e=="object"&&e!==null},ir=function(e){if(!He(e)||!Et(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r};function Ev(e,r){if(!D(e))return null;var t;if(R(r)&&(t=r),ir(r)&&(t=function(a){return ls(a,r)}),t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return e[n]}return null}var Ov=function(e,r){for(var t=null,n=0;n<e.length;n++){var a=e[n],i=a[r];if(!b(i)){D(i)?t=i[0]:t=i;break}}return t},Wr=function(e){if(!D(e))return[];for(var r=[],t=0;t<e.length;t++)r=r.concat(e[t]);return r},Z=function(e){if(!!D(e))return e.reduce(function(r,t){return Math.max(r,t)},e[0])},j=function(e){if(!!D(e))return e.reduce(function(r,t){return Math.min(r,t)},e[0])},cs=function(e){var r=e.filter(function(o){return!isNaN(o)});if(!r.length)return{min:0,max:0};if(D(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);r=t}var a=Z(r),i=j(r);return{min:i,max:a}},vs=Array.prototype.splice,ps=function(r,t){if(!H(r))return[];for(var n=r?t.length:0,a=n-1;n--;){var i=void 0,o=t[n];(n===a||o!==i)&&(i=o,vs.call(r,o,1))}return r},_v=function(e,r,t){if(!D(e)&&!ir(e))return e;var n=t;return A(e,function(a,i){n=r(n,a,i)}),n},Bv=function(e,r){var t=[];if(!H(e))return t;for(var n=-1,a=[],i=e.length;++n<i;){var o=e[n];r(o,n,e)&&(t.push(o),a.push(n))}return ps(e,a),t},E=function(e){return Et(e,"String")};function Lv(e,r){r===void 0&&(r=new Map);var t=[];if(Array.isArray(e))for(var n=0,a=e.length;n<a;n++){var i=e[n];r.has(i)||(t.push(i),r.set(i,!0))}return t}var xi=function(e,r){for(var t=[],n={},a=0;a<e.length;a++){var i=e[a],o=i[r];if(!b(o)){D(o)||(o=[o]);for(var s=0;s<o.length;s++){var u=o[s];n[u]||(t.push(u),n[u]=!0)}}}return t};function wt(e){if(H(e))return e[0]}function Q(e){if(H(e)){var r=e;return r[r.length-1]}}var Yv=function(e,r){for(var t=0;t<e.length;t++)if(!r(e[t],t))return!1;return!0},Fv=function(e,r){for(var t=0;t<e.length;t++)if(r(e[t],t))return!0;return!1},gs=Object.prototype.hasOwnProperty;function gn(e,r){if(!r||!D(e))return{};for(var t={},n=R(r)?r:function(s){return s[r]},a,i=0;i<e.length;i++){var o=e[i];a=n(o),gs.call(t,a)?t[a].push(o):t[a]=[o]}return t}function ds(e,r){if(!r)return{0:e};if(!R(r)){var t=D(r)?r:r.replace(/\s+/g,"").split("*");r=function(n){for(var a="_",i=0,o=t.length;i<o;i++)a+=n[t[i]]&&n[t[i]].toString();return a}}return gn(e,r)}var ms=function(e,r){if(!r)return[e];var t=ds(e,r),n=[];for(var a in t)n.push(t[a]);return n},Nv=function(e,r,t){return e<r?r:e>t?t:e},Ae=function(e,r){var t=r.toString(),n=t.indexOf(".");if(n===-1)return Math.round(e);var a=t.substr(n+1).length;return a>20&&(a=20),parseFloat(e.toFixed(a))},$=function(e){return Et(e,"Number")},ys=1e-5;function Kt(e,r,t){return t===void 0&&(t=ys),Math.abs(e-r)<t}var dn=function(e,r){return(e%r+r)%r},xs=Math.PI/180,mn=function(e){return xs*e},Rv=function(e,r){return e.hasOwnProperty(r)},Ms=Object.values?function(e){return Object.values(e)}:function(e){var r=[];return A(e,function(t,n){R(e)&&n==="prototype"||r.push(t)}),r},yn=function(e){return b(e)?"":e.toString()},Xv=function(e){return yn(e).toLowerCase()};function Hv(e,r){return!e||!r?e:e.replace(/\\?\{([^{}]+)\}/g,function(t,n){return t.charAt(0)==="\\"?t.slice(1):r[n]===void 0?"":r[n]})}var Mi=function(e){var r=yn(e);return r.charAt(0).toUpperCase()+r.substring(1)},ws={}.toString,As=function(e){return ws.call(e).replace(/^\[object /,"").replace(/]$/,"")},$v=function(e){return Et(e,"Boolean")},wi=function(e){return Et(e,"Date")},Wv=function(e){return e===null},Cs=Object.prototype,bs=function(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Cs;return e===t},zv=function(e){return e===void 0},Gv=function(e){return e instanceof Element||e instanceof HTMLDocument};function Ss(e){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return r(e)}function Ps(e){var r=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;r(e)}function Ce(e,r){for(var t in r)r.hasOwnProperty(t)&&t!=="constructor"&&r[t]!==void 0&&(e[t]=r[t])}function or(e,r,t,n){return r&&Ce(e,r),t&&Ce(e,t),n&&Ce(e,n),e}var zr=function(e){if(typeof e!="object"||e===null)return e;var r;if(D(e)){r=[];for(var t=0,n=e.length;t<n;t++)typeof e[t]=="object"&&e[t]!=null?r[t]=zr(e[t]):r[t]=e[t]}else{r={};for(var a in e)typeof e[a]=="object"&&e[a]!=null?r[a]=zr(e[a]):r[a]=e[a]}return r};function qv(e,r,t){var n;return function(){var a=this,i=arguments,o=function(){n=null,t||e.apply(a,i)},s=t&&!n;clearTimeout(n),n=setTimeout(o,r),s&&e.apply(a,i)}}var Ai=function(e,r){if(!R(e))throw new TypeError("Expected a function");var t=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=r?r.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return o.set(i,s),s};return t.cache=new Map,t},ks=5;function Ci(e,r,t,n){t=t||0,n=n||ks;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i!==null&&ir(i)?(ir(e[a])||(e[a]={}),t<n?Ci(e[a],i,t+1,n):e[a]=r[a]):D(i)?(e[a]=[],e[a]=e[a].concat(i)):i!==void 0&&(e[a]=i)}}var Vv=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n+=1)Ci(e,r[n]);return e},bi=function(e,r){if(!H(e))return-1;var t=Array.prototype.indexOf;if(t)return t.call(e,r);for(var n=-1,a=0;a<e.length;a++)if(e[a]===r){n=a;break}return n},Ts=Object.prototype.hasOwnProperty;function Ds(e){if(b(e))return!0;if(H(e))return!e.length;var r=As(e);if(r==="Map"||r==="Set")return!e.size;if(bs(e))return!Object.keys(e).length;for(var t in e)if(Ts.call(e,t))return!1;return!0}var Gr=function(e,r){if(e===r)return!0;if(!e||!r||E(e)||E(r))return!1;if(H(e)||H(r)){if(e.length!==r.length)return!1;for(var t=!0,n=0;n<e.length&&(t=Gr(e[n],r[n]),!!t);n++);return t}if(He(e)||He(r)){var a=Object.keys(e),i=Object.keys(r);if(a.length!==i.length)return!1;for(var t=!0,n=0;n<a.length&&(t=Gr(e[a[n]],r[a[n]]),!!t);n++);return t}return!1},Ft=function(e,r){if(!H(e))return e;for(var t=[],n=0;n<e.length;n++){var a=e[n];t.push(r(a,n))}return t},Is=function(e){return e},Es=function(e,r){r===void 0&&(r=Is);var t={};return rt(e)&&!b(e)&&Object.keys(e).forEach(function(n){t[n]=r(e[n],n)}),t},$e=function(e,r,t){for(var n=0,a=E(r)?r.split("."):r;e&&n<a.length;)e=e[a[n++]];return e===void 0||n<a.length?t:e},Uv=function(e,r,t){var n=e,a=E(r)?r.split("."):r;return a.forEach(function(i,o){o<a.length-1?(rt(n[i])||(n[i]=$(a[o+1])?[]:{}),n=n[i]):n[i]=t}),e},Os=Object.prototype.hasOwnProperty,Zv=function(e,r){if(e===null||!ir(e))return{};var t={};return A(r,function(n){Os.call(e,n)&&(t[n]=e[n])}),t},jv=function(e,r,t){var n,a,i,o,s=0;t||(t={});var u=function(){s=t.leading===!1?0:Date.now(),n=null,o=e.apply(a,i),n||(a=i=null)},f=function(){var h=Date.now();!s&&t.leading===!1&&(s=h);var l=r-(h-s);return a=this,i=arguments,l<=0||l>r?(n&&(clearTimeout(n),n=null),s=h,o=e.apply(a,i),n||(a=i=null)):!n&&t.trailing!==!1&&(n=setTimeout(u,l)),o};return f.cancel=function(){clearTimeout(n),s=0,n=a=i=null},f},_s=function(e){return H(e)?Array.prototype.slice.call(e):[]},Cr={},Ot=function(e){return e=e||"g",Cr[e]?Cr[e]+=1:Cr[e]=1,e+Cr[e]},br=function(){};function Si(e){return b(e)?0:H(e)?e.length:Object.keys(e).length}var Sr,Pr=Ai(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,a=r.fontWeight,i=r.fontStyle,o=r.fontVariant;return Sr||(Sr=document.createElement("canvas").getContext("2d")),Sr.font=[i,o,a,t+"px",n].join(" "),Sr.measureText(E(e)?e:"").width},function(e,r){return r===void 0&&(r={}),ss([e],Ms(r)).join("")}),Qv=function(e,r,t,n){n===void 0&&(n="...");var a=16,i=Pr(n,t),o=E(e)?e:yn(e),s=r,u=[],f,h;if(Pr(e,t)<=r)return e;for(;f=o.substr(0,a),h=Pr(f,t),!(h+i>s&&h>s);)if(u.push(f),s-=h,o=o.substr(a),!o)return u.join("");for(;f=o.substr(0,1),h=Pr(f,t),!(h+i>s);)if(u.push(f),s-=h,o=o.substr(1),!o)return u.join("");return""+u.join("")+n},Bs=function(){function e(){this.map={}}return e.prototype.has=function(r){return this.map[r]!==void 0},e.prototype.get=function(r,t){var n=this.map[r];return n===void 0?t:n},e.prototype.set=function(r,t){this.map[r]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(r){delete this.map[r]},e.prototype.size=function(){return Object.keys(this.map).length},e}();function Jv(e,r,t){if(e){if(typeof e.addEventListener=="function")return e.addEventListener(r,t,!1),{remove:function(){e.removeEventListener(r,t,!1)}};if(typeof e.attachEvent=="function")return e.attachEvent("on"+r,t),{remove:function(){e.detachEvent("on"+r,t)}}}}var Ut,be,Pi,We;function Ls(){Ut=document.createElement("table"),be=document.createElement("tr"),Pi=/^\s*<(\w+|!)[^>]*>/,We={tr:document.createElement("tbody"),tbody:Ut,thead:Ut,tfoot:Ut,td:be,th:be,"*":document.createElement("div")}}function Kv(e){Ut||Ls();var r=Pi.test(e)&&RegExp.$1;(!r||!(r in We))&&(r="*");var t=We[r];e=e.replace(/(^\s*)|(\s*$)/g,""),t.innerHTML=""+e;var n=t.childNodes[0];return t.removeChild(n),n}function N(e,r,t){var n;try{n=window.getComputedStyle?window.getComputedStyle(e,null)[r]:e.style[r]}catch{}finally{n=n===void 0?t:n}return n}function Ys(e,r){var t=N(e,"height",r);return t==="auto"&&(t=e.offsetHeight),parseFloat(t)}function tp(e,r){var t=Ys(e,r),n=parseFloat(N(e,"borderTopWidth"))||0,a=parseFloat(N(e,"paddingTop"))||0,i=parseFloat(N(e,"paddingBottom"))||0,o=parseFloat(N(e,"borderBottomWidth"))||0,s=parseFloat(N(e,"marginTop"))||0,u=parseFloat(N(e,"marginBottom"))||0;return t+n+o+a+i+s+u}function Fs(e,r){var t=N(e,"width",r);return t==="auto"&&(t=e.offsetWidth),parseFloat(t)}function rp(e,r){var t=Fs(e,r),n=parseFloat(N(e,"borderLeftWidth"))||0,a=parseFloat(N(e,"paddingLeft"))||0,i=parseFloat(N(e,"paddingRight"))||0,o=parseFloat(N(e,"borderRightWidth"))||0,s=parseFloat(N(e,"marginRight"))||0,u=parseFloat(N(e,"marginLeft"))||0;return t+n+o+a+i+u+s}function ep(e,r){if(e)for(var t in r)r.hasOwnProperty(t)&&(e.style[t]=r[t]);return e}var Ns="*",Rs=function(){function e(){this._events={}}return e.prototype.on=function(r,t,n){return this._events[r]||(this._events[r]=[]),this._events[r].push({callback:t,once:!!n}),this},e.prototype.once=function(r,t){return this.on(r,t,!0),this},e.prototype.emit=function(r){for(var t=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=this._events[r]||[],o=this._events[Ns]||[],s=function(u){for(var f=u.length,h=0;h<f;h++)if(!!u[h]){var l=u[h],c=l.callback,p=l.once;p&&(u.splice(h,1),u.length===0&&delete t._events[r],f--,h--),c.apply(t,n)}};s(i),s(o)},e.prototype.off=function(r,t){if(!r)this._events={};else if(!t)delete this._events[r];else{for(var n=this._events[r]||[],a=n.length,i=0;i<a;i++)n[i].callback===t&&(n.splice(i,1),a--,i--);n.length===0&&delete this._events[r]}return this},e.prototype.getEvents=function(){return this._events},e}(),tr=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Xs=new RegExp("([a-z])["+tr+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+tr+"]*,?["+tr+"]*)+)","ig"),Hs=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+tr+"]*,?["+tr+"]*","ig"),Nt=function(e){if(!e)return null;if(D(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(Xs,function(n,a,i){var o=[],s=a.toLowerCase();if(i.replace(Hs,function(u,f){f&&o.push(+f)}),s==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),s="l",a=a==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([a,o[0]]),s==="r")t.push([a].concat(o));else for(;o.length>=r[s]&&(t.push([a].concat(o.splice(0,r[s]))),!!r[s]););return e}),t},ze=function(e,r){for(var t=[],n=0,a=e.length;a-2*!r>n;n+=2){var i=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];r?n?a-4===n?i[3]={x:+e[0],y:+e[1]}:a-2===n&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[a-2],y:+e[a-1]}:a-4===n?i[3]=i[2]:n||(i[0]={x:+e[n],y:+e[n+1]}),t.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return t},kr=function(e,r,t,n,a){var i=[];if(a===null&&n===null&&(n=t),e=+e,r=+r,t=+t,n=+n,a!==null){var o=Math.PI/180,s=e+t*Math.cos(-n*o),u=e+t*Math.cos(-a*o),f=r+t*Math.sin(-n*o),h=r+t*Math.sin(-a*o);i=[["M",s,f],["A",t,t,0,+(a-n>180),0,u,h]]}else i=[["M",e,r],["m",0,-n],["a",t,n,0,1,1,0,2*n],["a",t,n,0,1,1,0,-2*n],["z"]];return i},Ge=function(e){if(e=Nt(e),!e||!e.length)return[["M",0,0]];var r=[],t=0,n=0,a=0,i=0,o=0,s,u;e[0][0]==="M"&&(t=+e[0][1],n=+e[0][2],a=t,i=n,o++,r[0]=["M",t,n]);for(var f=e.length===3&&e[0][0]==="M"&&e[1][0].toUpperCase()==="R"&&e[2][0].toUpperCase()==="Z",h=void 0,l=void 0,c=o,p=e.length;c<p;c++){if(r.push(h=[]),l=e[c],s=l[0],s!==s.toUpperCase())switch(h[0]=s.toUpperCase(),h[0]){case"A":h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=+l[6]+t,h[7]=+l[7]+n;break;case"V":h[1]=+l[1]+n;break;case"H":h[1]=+l[1]+t;break;case"R":u=[t,n].concat(l.slice(1));for(var v=2,g=u.length;v<g;v++)u[v]=+u[v]+t,u[++v]=+u[v]+n;r.pop(),r=r.concat(ze(u,f));break;case"O":r.pop(),u=kr(t,n,l[1],l[2]),u.push(u[0]),r=r.concat(u);break;case"U":r.pop(),r=r.concat(kr(t,n,l[1],l[2],l[3])),h=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+l[1]+t,i=+l[2]+n;break;default:for(var v=1,g=l.length;v<g;v++)h[v]=+l[v]+(v%2?t:n)}else if(s==="R")u=[t,n].concat(l.slice(1)),r.pop(),r=r.concat(ze(u,f)),h=["R"].concat(l.slice(-2));else if(s==="O")r.pop(),u=kr(t,n,l[1],l[2]),u.push(u[0]),r=r.concat(u);else if(s==="U")r.pop(),r=r.concat(kr(t,n,l[1],l[2],l[3])),h=["U"].concat(r[r.length-1].slice(-2));else for(var m=0,x=l.length;m<x;m++)h[m]=l[m];if(s=s.toUpperCase(),s!=="O")switch(h[0]){case"Z":t=+a,n=+i;break;case"H":t=h[1];break;case"V":n=h[1];break;case"M":a=h[h.length-2],i=h[h.length-1];break;default:t=h[h.length-2],n=h[h.length-1]}}return r},Tr=function(e,r,t,n){return[e,r,t,n,t,n]},Vn=function(e,r,t,n,a,i){var o=.3333333333333333,s=2/3;return[o*e+s*t,o*r+s*n,o*a+s*t,o*i+s*n,a,i]},ki=function(e,r,t,n,a,i,o,s,u,f){t===n&&(t+=1);var h=Math.PI*120/180,l=Math.PI/180*(+a||0),c=[],p,v,g,m,x,M=function(Gn,qn,Ar){var as=Gn*Math.cos(Ar)-qn*Math.sin(Ar),is=Gn*Math.sin(Ar)+qn*Math.cos(Ar);return{x:as,y:is}};if(f)v=f[0],g=f[1],m=f[2],x=f[3];else{p=M(e,r,-l),e=p.x,r=p.y,p=M(s,u,-l),s=p.x,u=p.y,e===s&&r===u&&(s+=1,u+=1);var y=(e-s)/2,d=(r-u)/2,w=y*y/(t*t)+d*d/(n*n);w>1&&(w=Math.sqrt(w),t=w*t,n=w*n);var S=t*t,C=n*n,I=(i===o?-1:1)*Math.sqrt(Math.abs((S*C-S*d*d-C*y*y)/(S*d*d+C*y*y)));m=I*t*d/n+(e+s)/2,x=I*-n*y/t+(r+u)/2,v=Math.asin(((r-x)/n).toFixed(9)),g=Math.asin(((u-x)/n).toFixed(9)),v=e<m?Math.PI-v:v,g=s<m?Math.PI-g:g,v<0&&(v=Math.PI*2+v),g<0&&(g=Math.PI*2+g),o&&v>g&&(v=v-Math.PI*2),!o&&g>v&&(g=g-Math.PI*2)}var O=g-v;if(Math.abs(O)>h){var Y=g,L=s,W=u;g=v+h*(o&&g>v?1:-1),s=m+t*Math.cos(g),u=x+n*Math.sin(g),c=ki(s,u,t,n,a,0,o,L,W,[g,Y,m,x])}O=g-v;var ot=Math.cos(v),_t=Math.sin(v),Bt=Math.cos(g),st=Math.sin(g),ht=Math.tan(O/4),lt=4/3*t*ht,V=4/3*n*ht,Mr=[e,r],ct=[e+lt*_t,r-V*ot],wr=[s+lt*st,u-V*Bt],Wn=[s,u];if(ct[0]=2*Mr[0]-ct[0],ct[1]=2*Mr[1]-ct[1],f)return[ct,wr,Wn].concat(c);c=[ct,wr,Wn].concat(c).join().split(",");for(var zn=[],vt=0,ns=c.length;vt<ns;vt++)zn[vt]=vt%2?M(c[vt-1],c[vt],l).y:M(c[vt],c[vt+1],l).x;return zn},qe=function(e,r){var t=Ge(e),n=r&&Ge(r),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],u="",f="",h,l=function(y,d,w){var S,C;if(!y)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(y[0]in{T:1,Q:1})&&(d.qx=d.qy=null),y[0]){case"M":d.X=y[1],d.Y=y[2];break;case"A":y=["C"].concat(ki.apply(0,[d.x,d.y].concat(y.slice(1))));break;case"S":w==="C"||w==="S"?(S=d.x*2-d.bx,C=d.y*2-d.by):(S=d.x,C=d.y),y=["C",S,C].concat(y.slice(1));break;case"T":w==="Q"||w==="T"?(d.qx=d.x*2-d.qx,d.qy=d.y*2-d.qy):(d.qx=d.x,d.qy=d.y),y=["C"].concat(Vn(d.x,d.y,d.qx,d.qy,y[1],y[2]));break;case"Q":d.qx=y[1],d.qy=y[2],y=["C"].concat(Vn(d.x,d.y,y[1],y[2],y[3],y[4]));break;case"L":y=["C"].concat(Tr(d.x,d.y,y[1],y[2]));break;case"H":y=["C"].concat(Tr(d.x,d.y,y[1],d.y));break;case"V":y=["C"].concat(Tr(d.x,d.y,d.x,y[1]));break;case"Z":y=["C"].concat(Tr(d.x,d.y,d.X,d.Y));break}return y},c=function(y,d){if(y[d].length>7){y[d].shift();for(var w=y[d];w.length;)o[d]="A",n&&(s[d]="A"),y.splice(d++,0,["C"].concat(w.splice(0,6)));y.splice(d,1),h=Math.max(t.length,n&&n.length||0)}},p=function(y,d,w,S,C){y&&d&&y[C][0]==="M"&&d[C][0]!=="M"&&(d.splice(C,0,["M",S.x,S.y]),w.bx=0,w.by=0,w.x=y[C][1],w.y=y[C][2],h=Math.max(t.length,n&&n.length||0))};h=Math.max(t.length,n&&n.length||0);for(var v=0;v<h;v++){t[v]&&(u=t[v][0]),u!=="C"&&(o[v]=u,v&&(f=o[v-1])),t[v]=l(t[v],a,f),o[v]!=="A"&&u==="C"&&(o[v]="C"),c(t,v),n&&(n[v]&&(u=n[v][0]),u!=="C"&&(s[v]=u,v&&(f=s[v-1])),n[v]=l(n[v],i,f),s[v]!=="A"&&u==="C"&&(s[v]="C"),c(n,v)),p(t,n,a,i,v),p(n,t,i,a,v);var g=t[v],m=n&&n[v],x=g.length,M=n&&m.length;a.x=g[x-2],a.y=g[x-1],a.bx=parseFloat(g[x-4])||a.x,a.by=parseFloat(g[x-3])||a.y,i.bx=n&&(parseFloat(m[M-4])||i.x),i.by=n&&(parseFloat(m[M-3])||i.y),i.x=n&&m[M-2],i.y=n&&m[M-1]}return n?[t,n]:t},$s=/,?([a-z]),?/gi,Ti=function(e){return e.join(",").replace($s,"$1")},Un=function(e,r,t,n,a){var i=-3*r+9*t-9*n+3*a,o=e*i+6*r-12*t+6*n;return e*o-3*r+3*t},Zn=function(e,r,t,n,a,i,o,s,u){u===null&&(u=1),u=u>1?1:u<0?0:u;for(var f=u/2,h=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],c=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,v=0;v<h;v++){var g=f*l[v]+f,m=Un(g,e,t,a,o),x=Un(g,r,n,i,s),M=m*m+x*x;p+=c[v]*Math.sqrt(M)}return f*p},Ws=function(e,r,t,n,a,i,o,s){for(var u=[],f=[[],[]],h,l,c,p,v=0;v<2;++v){if(v===0?(l=6*e-12*t+6*a,h=-3*e+9*t-9*a+3*o,c=3*t-3*e):(l=6*r-12*n+6*i,h=-3*r+9*n-9*i+3*s,c=3*n-3*r),Math.abs(h)<1e-12){if(Math.abs(l)<1e-12)continue;p=-c/l,p>0&&p<1&&u.push(p);continue}var g=l*l-4*c*h,m=Math.sqrt(g);if(!(g<0)){var x=(-l+m)/(2*h);x>0&&x<1&&u.push(x);var M=(-l-m)/(2*h);M>0&&M<1&&u.push(M)}}for(var y=u.length,d=y,w;y--;)p=u[y],w=1-p,f[0][y]=w*w*w*e+3*w*w*p*t+3*w*p*p*a+p*p*p*o,f[1][y]=w*w*w*r+3*w*w*p*n+3*w*p*p*i+p*p*p*s;return f[0][d]=e,f[1][d]=r,f[0][d+1]=o,f[1][d+1]=s,f[0].length=f[1].length=d+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}},zs=function(e,r,t,n,a,i,o,s){if(!(Math.max(e,t)<Math.min(a,o)||Math.min(e,t)>Math.max(a,o)||Math.max(r,n)<Math.min(i,s)||Math.min(r,n)>Math.max(i,s))){var u=(e*n-r*t)*(a-o)-(e-t)*(a*s-i*o),f=(e*n-r*t)*(i-s)-(r-n)*(a*s-i*o),h=(e-t)*(i-s)-(r-n)*(a-o);if(!!h){var l=u/h,c=f/h,p=+l.toFixed(2),v=+c.toFixed(2);if(!(p<+Math.min(e,t).toFixed(2)||p>+Math.max(e,t).toFixed(2)||p<+Math.min(a,o).toFixed(2)||p>+Math.max(a,o).toFixed(2)||v<+Math.min(r,n).toFixed(2)||v>+Math.max(r,n).toFixed(2)||v<+Math.min(i,s).toFixed(2)||v>+Math.max(i,s).toFixed(2)))return{x:l,y:c}}}},pt=function(e,r,t){return r>=e.x&&r<=e.x+e.width&&t>=e.y&&t<=e.y+e.height},Di=function(e,r,t,n,a){if(a)return[["M",+e+ +a,r],["l",t-a*2,0],["a",a,a,0,0,1,a,a],["l",0,n-a*2],["a",a,a,0,0,1,-a,a],["l",a*2-t,0],["a",a,a,0,0,1,-a,-a],["l",0,a*2-n],["a",a,a,0,0,1,a,-a],["z"]];var i=[["M",e,r],["l",t,0],["l",0,n],["l",-t,0],["z"]];return i.parsePathArray=Ti,i},Ve=function(e,r,t,n){return e===null&&(e=r=t=n=0),r===null&&(r=e.y,t=e.width,n=e.height,e=e.x),{x:e,y:r,width:t,w:t,height:n,h:n,x2:e+t,y2:r+n,cx:e+t/2,cy:r+n/2,r1:Math.min(t,n)/2,r2:Math.max(t,n)/2,r0:Math.sqrt(t*t+n*n)/2,path:Di(e,r,t,n),vb:[e,r,t,n].join(" ")}},Gs=function(e,r){return e=Ve(e),r=Ve(r),pt(r,e.x,e.y)||pt(r,e.x2,e.y)||pt(r,e.x,e.y2)||pt(r,e.x2,e.y2)||pt(e,r.x,r.y)||pt(e,r.x2,r.y)||pt(e,r.x,r.y2)||pt(e,r.x2,r.y2)||(e.x<r.x2&&e.x>r.x||r.x<e.x2&&r.x>e.x)&&(e.y<r.y2&&e.y>r.y||r.y<e.y2&&r.y>e.y)},jn=function(e,r,t,n,a,i,o,s){D(e)||(e=[e,r,t,n,a,i,o,s]);var u=Ws.apply(null,e);return Ve(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Qn=function(e,r,t,n,a,i,o,s,u){var f=1-u,h=Math.pow(f,3),l=Math.pow(f,2),c=u*u,p=c*u,v=h*e+l*3*u*t+f*3*u*u*a+p*o,g=h*r+l*3*u*n+f*3*u*u*i+p*s,m=e+2*u*(t-e)+c*(a-2*t+e),x=r+2*u*(n-r)+c*(i-2*n+r),M=t+2*u*(a-t)+c*(o-2*a+t),y=n+2*u*(i-n)+c*(s-2*i+n),d=f*e+u*t,w=f*r+u*n,S=f*a+u*o,C=f*i+u*s,I=90-Math.atan2(m-M,x-y)*180/Math.PI;return{x:v,y:g,m:{x:m,y:x},n:{x:M,y},start:{x:d,y:w},end:{x:S,y:C},alpha:I}},qs=function(e,r,t){var n=jn(e),a=jn(r);if(!Gs(n,a))return t?0:[];for(var i=Zn.apply(0,e),o=Zn.apply(0,r),s=~~(i/8),u=~~(o/8),f=[],h=[],l={},c=t?0:[],p=0;p<s+1;p++){var v=Qn.apply(0,e.concat(p/s));f.push({x:v.x,y:v.y,t:p/s})}for(var p=0;p<u+1;p++){var v=Qn.apply(0,r.concat(p/u));h.push({x:v.x,y:v.y,t:p/u})}for(var p=0;p<s;p++)for(var g=0;g<u;g++){var m=f[p],x=f[p+1],M=h[g],y=h[g+1],d=Math.abs(x.x-m.x)<.001?"y":"x",w=Math.abs(y.x-M.x)<.001?"y":"x",S=zs(m.x,m.y,x.x,x.y,M.x,M.y,y.x,y.y);if(S){if(l[S.x.toFixed(4)]===S.y.toFixed(4))continue;l[S.x.toFixed(4)]=S.y.toFixed(4);var C=m.t+Math.abs((S[d]-m[d])/(x[d]-m[d]))*(x.t-m.t),I=M.t+Math.abs((S[w]-M[w])/(y[w]-M[w]))*(y.t-M.t);C>=0&&C<=1&&I>=0&&I<=1&&(t?c+=1:c.push({x:S.x,y:S.y,t1:C,t2:I}))}}return c},Vs=function(e,r,t){e=qe(e),r=qe(r);for(var n,a,i,o,s,u,f,h,l,c,p=t?0:[],v=0,g=e.length;v<g;v++){var m=e[v];if(m[0]==="M")n=s=m[1],a=u=m[2];else{m[0]==="C"?(l=[n,a].concat(m.slice(1)),n=l[6],a=l[7]):(l=[n,a,n,a,s,u,s,u],n=s,a=u);for(var x=0,M=r.length;x<M;x++){var y=r[x];if(y[0]==="M")i=f=y[1],o=h=y[2];else{y[0]==="C"?(c=[i,o].concat(y.slice(1)),i=c[6],o=c[7]):(c=[i,o,i,o,f,h,f,h],i=f,o=h);var d=qs(l,c,t);if(t)p+=d;else{for(var w=0,S=d.length;w<S;w++)d[w].segment1=v,d[w].segment2=x,d[w].bez1=l,d[w].bez2=c;p=p.concat(d)}}}}}return p},Us=function(e,r){return Vs(e,r)};function Zs(e,r){var t=[],n=[];function a(i,o){if(i.length===1)t.push(i[0]),n.push(i[0]);else{for(var s=[],u=0;u<i.length-1;u++)u===0&&t.push(i[0]),u===i.length-2&&n.push(i[u+1]),s[u]=[(1-o)*i[u][0]+o*i[u+1][0],(1-o)*i[u][1]+o*i[u+1][1]];a(s,o)}}return e.length&&a(e,r),{left:t,right:n.reverse()}}function js(e,r,t){var n=[[e[1],e[2]]];t=t||2;var a=[];r[0]==="A"?(n.push(r[6]),n.push(r[7])):r[0]==="C"?(n.push([r[1],r[2]]),n.push([r[3],r[4]]),n.push([r[5],r[6]])):r[0]==="S"||r[0]==="Q"?(n.push([r[1],r[2]]),n.push([r[3],r[4]])):n.push([r[1],r[2]]);for(var i=n,o=1/t,s=0;s<t-1;s++){var u=o/(1-o*s),f=Zs(i,u);a.push(f.left),i=f.right}a.push(i);var h=a.map(function(l){var c=[];return l.length===4&&(c.push("C"),c=c.concat(l[2])),l.length>=3&&(l.length===3&&c.push("Q"),c=c.concat(l[1])),l.length===2&&c.push("L"),c=c.concat(l[l.length-1]),c});return h}var Qs=function(e,r,t){if(t===1)return[[].concat(e)];var n=[];if(r[0]==="L"||r[0]==="C"||r[0]==="Q")n=n.concat(js(e,r,t));else{var a=[].concat(e);a[0]==="M"&&(a[0]="L");for(var i=0;i<=t-1;i++)n.push(a)}return n},Js=function(e,r){if(e.length===1)return e;var t=e.length-1,n=r.length-1,a=t/n,i=[];if(e.length===1&&e[0][0]==="M"){for(var o=0;o<n-t;o++)e.push(e[0]);return e}for(var o=0;o<n;o++){var s=Math.floor(a*o);i[s]=(i[s]||0)+1}var u=i.reduce(function(f,h,l){return l===t?f.concat(e[t]):f.concat(Qs(e[l],e[l+1],h))},[]);return u.unshift(e[0]),(r[n]==="Z"||r[n]==="z")&&u.push("Z"),u},Ks=function(e,r){if(e.length!==r.length)return!1;var t=!0;return A(e,function(n,a){if(n!==r[a])return t=!1,!1}),t};function tu(e,r,t){var n=null,a=t;return r<a&&(a=r,n="add"),e<a&&(a=e,n="del"),{type:n,min:a}}var ru=function(e,r){var t=e.length,n=r.length,a,i,o=0;if(t===0||n===0)return null;for(var s=[],u=0;u<=t;u++)s[u]=[],s[u][0]={min:u};for(var f=0;f<=n;f++)s[0][f]={min:f};for(var u=1;u<=t;u++){a=e[u-1];for(var f=1;f<=n;f++){i=r[f-1],Ks(a,i)?o=0:o=1;var h=s[u-1][f].min+1,l=s[u][f-1].min+1,c=s[u-1][f-1].min+o;s[u][f]=tu(h,l,c)}}return s},Ii=function(e,r){var t=ru(e,r),n=e.length,a=r.length,i=[],o=1,s=1;if(t[n][a].min!==n){for(var u=1;u<=n;u++){var f=t[u][u].min;s=u;for(var h=o;h<=a;h++)t[u][h].min<f&&(f=t[u][h].min,s=h);o=s,t[u][o].type&&i.push({index:u-1,type:t[u][o].type})}for(var u=i.length-1;u>=0;u--)o=i[u].index,i[u].type==="add"?e.splice(o,0,[].concat(e[o])):e.splice(o,1)}n=e.length;var l=a-n;if(n<a)for(var u=0;u<l;u++)e[n-1][0]==="z"||e[n-1][0]==="Z"?e.splice(n-2,0,e[n-2]):e.push(e[n-1]),n+=1;return e};function Se(e,r,t){for(var n=[].concat(e),a,i=1/(t+1),o=Ei(r)[0],s=1;s<=t;s++)i*=s,a=Math.floor(e.length*i),a===0?n.unshift([o[0]*i+e[a][0]*(1-i),o[1]*i+e[a][1]*(1-i)]):n.splice(a,0,[o[0]*i+e[a][0]*(1-i),o[1]*i+e[a][1]*(1-i)]);return n}function Ei(e){var r=[];switch(e[0]){case"M":r.push([e[1],e[2]]);break;case"L":r.push([e[1],e[2]]);break;case"A":r.push([e[6],e[7]]);break;case"Q":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"T":r.push([e[1],e[2]]);break;case"C":r.push([e[5],e[6]]),r.push([e[1],e[2]]),r.push([e[3],e[4]]);break;case"S":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"H":r.push([e[1],e[1]]);break;case"V":r.push([e[1],e[1]]);break}return r}var Ue=function(e,r){if(e.length<=1)return e;for(var t,n=0;n<r.length;n++)if(e[n][0]!==r[n][0])switch(t=Ei(e[n]),r[n][0]){case"M":e[n]=["M"].concat(t[0]);break;case"L":e[n]=["L"].concat(t[0]);break;case"A":e[n]=[].concat(r[n]),e[n][6]=t[0][0],e[n][7]=t[0][1];break;case"Q":if(t.length<2)if(n>0)t=Se(t,e[n-1],1);else{e[n]=r[n];break}e[n]=["Q"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;case"T":e[n]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(n>0)t=Se(t,e[n-1],2);else{e[n]=r[n];break}e[n]=["C"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;case"S":if(t.length<2)if(n>0)t=Se(t,e[n-1],1);else{e[n]=r[n];break}e[n]=["S"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;default:e[n]=r[n]}return e},xn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",catmullRomToBezier:ze,fillPath:Js,fillPathByDiff:Ii,formatPath:Ue,intersection:Us,parsePathArray:Ti,parsePathString:Nt,pathToAbsolute:Ge,pathToCurve:qe,rectPath:Di}),Mn=function(){function e(r,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=r,this.name=r,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){var r=this.type;return"[Event (type="+r+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}();function Oi(e,r){var t=e.indexOf(r);t!==-1&&e.splice(t,1)}var Jn=typeof window!="undefined"&&typeof window.document!="undefined";function _i(e,r){if(e.isCanvas())return!0;for(var t=r.getParent(),n=!1;t;){if(t===e){n=!0;break}t=t.getParent()}return n}function sr(e){return e.cfg.visible&&e.cfg.capture}var wn=function(e){P(r,e);function r(t){var n=e.call(this)||this;n.destroyed=!1;var a=n.getDefaultCfg();return n.cfg=or(a,t),n}return r.prototype.getDefaultCfg=function(){return{}},r.prototype.get=function(t){return this.cfg[t]},r.prototype.set=function(t,n){this.cfg[t]=n},r.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},r}(Rs),Kn=globalThis&&globalThis.__spreadArray||function(e,r,t){if(t||arguments.length===2)for(var n=0,a=r.length,i;n<a;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))},eu=function(){function e(r,t,n){this.name=r,this.version=t,this.os=n,this.type="browser"}return e}(),nu=function(){function e(r){this.version=r,this.type="node",this.name="node",this.os=process.platform}return e}(),au=function(){function e(r,t,n,a){this.name=r,this.version=t,this.os=n,this.bot=a,this.type="bot-device"}return e}(),iu=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),ou=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),su=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,uu=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ta=3,fu=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",su]],ra=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Bi(e){return e?ea(e):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new ou:typeof navigator!="undefined"?ea(navigator.userAgent):cu()}function hu(e){return e!==""&&fu.reduce(function(r,t){var n=t[0],a=t[1];if(r)return r;var i=a.exec(e);return!!i&&[n,i]},!1)}function ea(e){var r=hu(e);if(!r)return null;var t=r[0],n=r[1];if(t==="searchbot")return new iu;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<ta&&(a=Kn(Kn([],a,!0),vu(ta-a.length),!0)):a=[];var i=a.join("."),o=lu(e),s=uu.exec(e);return s&&s[1]?new au(t,i,o,s[1]):new eu(t,i,o)}function lu(e){for(var r=0,t=ra.length;r<t;r++){var n=ra[r],a=n[0],i=n[1],o=i.exec(e);if(o)return a}return null}function cu(){var e=typeof process!="undefined"&&process.version;return e?new nu(process.version.slice(1)):null}function vu(e){for(var r=[],t=0;t<e;t++)r.push("0");return r}var qr=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,r=arguments.length;r--;)e+=arguments[r]*arguments[r];return Math.sqrt(e)});function pu(e,r){var t=r[0],n=r[1],a=r[2],i=r[3],o=r[4],s=r[5],u=r[6],f=r[7],h=r[8],l=h*o-s*f,c=-h*i+s*u,p=f*i-o*u,v=t*l+n*c+a*p;return v?(v=1/v,e[0]=l*v,e[1]=(-h*n+a*f)*v,e[2]=(s*n-a*o)*v,e[3]=c*v,e[4]=(h*t-a*u)*v,e[5]=(-s*t+a*i)*v,e[6]=p*v,e[7]=(-f*t+n*u)*v,e[8]=(o*t-n*i)*v,e):null}function oe(e,r,t){var n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],u=r[5],f=r[6],h=r[7],l=r[8],c=t[0],p=t[1],v=t[2],g=t[3],m=t[4],x=t[5],M=t[6],y=t[7],d=t[8];return e[0]=c*n+p*o+v*f,e[1]=c*a+p*s+v*h,e[2]=c*i+p*u+v*l,e[3]=g*n+m*o+x*f,e[4]=g*a+m*s+x*h,e[5]=g*i+m*u+x*l,e[6]=M*n+y*o+d*f,e[7]=M*a+y*s+d*h,e[8]=M*i+y*u+d*l,e}function gu(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=r[0],e[7]=r[1],e[8]=1,e}function du(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=-t,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function mu(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=r[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function yu(){var e=new qr(3);return qr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Vr(e,r,t){var n=r[0],a=r[1],i=r[2];return e[0]=n*t[0]+a*t[3]+i*t[6],e[1]=n*t[1]+a*t[4]+i*t[7],e[2]=n*t[2]+a*t[5]+i*t[8],e}(function(){var e=yu();return function(r,t,n,a,i,o){var s,u;for(t||(t=3),n||(n=0),a?u=Math.min(a*t+n,r.length):u=r.length,s=n;s<u;s+=t)e[0]=r[s],e[1]=r[s+1],e[2]=r[s+2],i(e,e,o),r[s]=e[0],r[s+1]=e[1],r[s+2]=e[2];return r}})();function xu(){var e=new qr(2);return qr!=Float32Array&&(e[0]=0,e[1]=0),e}function Dr(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e}function Li(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e}function bt(e,r,t){return e[0]=Math.min(r[0],t[0]),e[1]=Math.min(r[1],t[1]),e}function St(e,r,t){return e[0]=Math.max(r[0],t[0]),e[1]=Math.max(r[1],t[1]),e}function zt(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e}function na(e,r){var t=r[0]-e[0],n=r[1]-e[1];return Math.hypot(t,n)}function Zt(e){var r=e[0],t=e[1];return Math.hypot(r,t)}function Mu(e,r){var t=r[0],n=r[1],a=t*t+n*n;return a>0&&(a=1/Math.sqrt(a)),e[0]=r[0]*a,e[1]=r[1]*a,e}function wu(e,r){return e[0]*r[0]+e[1]*r[1]}function np(e,r,t){var n=r[0],a=r[1];return e[0]=t[0]*n+t[3]*a+t[6],e[1]=t[1]*n+t[4]*a+t[7],e}function Au(e,r){var t=e[0],n=e[1],a=r[0],i=r[1],o=Math.sqrt(t*t+n*n)*Math.sqrt(a*a+i*i),s=o&&(t*a+n*i)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function Cu(e,r){return e[0]===r[0]&&e[1]===r[1]}var Pe=Li;(function(){var e=xu();return function(r,t,n,a,i,o){var s,u;for(t||(t=2),n||(n=0),a?u=Math.min(a*t+n,r.length):u=r.length,s=n;s<u;s+=t)e[0]=r[s],e[1]=r[s+1],i(e,e,o),r[s]=e[0],r[s+1]=e[1];return r}})();function Lt(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return gu(n,t),oe(e,n,r)}function An(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return du(n,t),oe(e,n,r)}function Yi(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return mu(n,t),oe(e,n,r)}function bu(e,r,t){return oe(e,t,r)}function Fi(e,r){for(var t=e?[].concat(e):[1,0,0,0,1,0,0,0,1],n=0,a=r.length;n<a;n++){var i=r[n];switch(i[0]){case"t":Lt(t,t,[i[1],i[2]]);break;case"s":Yi(t,t,[i[1],i[2]]);break;case"r":An(t,t,i[1]);break;case"m":bu(t,t,i[1]);break}}return t}function Su(e,r){return e[0]*r[1]-r[0]*e[1]}function Ni(e,r,t){var n=Au(e,r),a=Su(e,r)>=0;return t?a?Math.PI*2-n:n:a?n:Math.PI*2-n}function aa(e,r){var t=[],n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],f=e[6],h=e[7],l=e[8],c=r[0],p=r[1],v=r[2],g=r[3],m=r[4],x=r[5],M=r[6],y=r[7],d=r[8];return t[0]=c*n+p*o+v*f,t[1]=c*a+p*s+v*h,t[2]=c*i+p*u+v*l,t[3]=g*n+m*o+x*f,t[4]=g*a+m*s+x*h,t[5]=g*i+m*u+x*l,t[6]=M*n+y*o+d*f,t[7]=M*a+y*s+d*h,t[8]=M*i+y*u+d*l,t}function ut(e,r){var t=[],n=r[0],a=r[1];return t[0]=e[0]*n+e[3]*a+e[6],t[1]=e[1]*n+e[4]*a+e[7],t}function se(e){var r=[],t=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],f=e[7],h=e[8],l=h*o-s*f,c=-h*i+s*u,p=f*i-o*u,v=t*l+n*c+a*p;return v?(v=1/v,r[0]=l*v,r[1]=(-h*n+a*f)*v,r[2]=(s*n-a*o)*v,r[3]=c*v,r[4]=(h*t-a*u)*v,r[5]=(-s*t+a*i)*v,r[6]=p*v,r[7]=(-f*t+n*u)*v,r[8]=(o*t-n*i)*v,r):null}var Gt=Fi,ke="matrix",Pu=["zIndex","capture","visible","type"],ku=["repeat"],Tu=":",Du="*";function Iu(e){for(var r=[],t=0;t<e.length;t++)D(e[t])?r.push([].concat(e[t])):r.push(e[t]);return r}function Eu(e,r){var t={},n=r.attrs;for(var a in e)t[a]=n[a];return t}function Ou(e,r){var t={},n=r.attr();return A(e,function(a,i){ku.indexOf(i)===-1&&!Gr(n[i],a)&&(t[i]=a)}),t}function _u(e,r){if(r.onFrame)return e;var t=r.startTime,n=r.delay,a=r.duration,i=Object.prototype.hasOwnProperty;return A(e,function(o){t+n<o.startTime+o.delay+o.duration&&a>o.delay&&A(r.toAttrs,function(s,u){i.call(o.toAttrs,u)&&(delete o.toAttrs[u],delete o.fromAttrs[u])})}),e}var Ri=function(e){P(r,e);function r(t){var n=e.call(this,t)||this;n.attrs={};var a=n.getDefaultAttrs();return or(a,t.attrs),n.attrs=a,n.initAttrs(a),n.initAnimate(),n}return r.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},r.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},r.prototype.onCanvasChange=function(t){},r.prototype.initAttrs=function(t){},r.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},r.prototype.isGroup=function(){return!1},r.prototype.getParent=function(){return this.get("parent")},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.attr=function(){for(var t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=n[0],o=n[1];if(!i)return this.attrs;if(rt(i)){for(var s in i)this.setAttr(s,i[s]);return this.afterAttrsChange(i),this}return n.length===2?(this.setAttr(i,o),this.afterAttrsChange((t={},t[i]=o,t)),this):this.attrs[i]},r.prototype.isClipped=function(t,n){var a=this.getClip();return a&&!a.isHit(t,n)},r.prototype.setAttr=function(t,n){var a=this.attrs[t];a!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,a))},r.prototype.onAttrChange=function(t,n,a){t==="matrix"&&this.set("totalMatrix",null)},r.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},r.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},r.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},r.prototype.setZIndex=function(t){this.set("zIndex",t);var n=this.getParent();return n&&n.sort(),this},r.prototype.toFront=function(){var t=this.getParent();if(!!t){var n=t.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.push(this),this.onCanvasChange("zIndex")}},r.prototype.toBack=function(){var t=this.getParent();if(!!t){var n=t.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.unshift(this),this.onCanvasChange("zIndex")}},r.prototype.remove=function(t){t===void 0&&(t=!0);var n=this.getParent();n?(Oi(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},r.prototype.resetMatrix=function(){this.attr(ke,this.getDefaultMatrix()),this.onCanvasChange("matrix")},r.prototype.getMatrix=function(){return this.attr(ke)},r.prototype.setMatrix=function(t){this.attr(ke,t),this.onCanvasChange("matrix")},r.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var n=this.attr("matrix"),a=this.cfg.parentMatrix;a&&n?t=aa(a,n):t=n||a,this.set("totalMatrix",t)}return t},r.prototype.applyMatrix=function(t){var n=this.attr("matrix"),a=null;t&&n?a=aa(t,n):a=n||t,this.set("totalMatrix",a),this.set("parentMatrix",t)},r.prototype.getDefaultMatrix=function(){return null},r.prototype.applyToMatrix=function(t){var n=this.attr("matrix");return n?ut(n,t):t},r.prototype.invertFromMatrix=function(t){var n=this.attr("matrix");if(n){var a=se(n);if(a)return ut(a,t)}return t},r.prototype.setClip=function(t){var n=this.getCanvas(),a=null;if(t){var i=this.getShapeBase(),o=Mi(t.type),s=i[o];s&&(a=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n}))}return this.set("clipShape",a),this.onCanvasChange("clip"),a},r.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},r.prototype.clone=function(){var t=this,n=this.attrs,a={};A(n,function(s,u){D(n[u])?a[u]=Iu(n[u]):a[u]=n[u]});var i=this.constructor,o=new i({attrs:a});return A(Pu,function(s){o.set(s,t.get(s))}),o},r.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},e.prototype.destroy.call(this))},r.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},r.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var a=this.get("timeline");a||(a=this.get("canvas").get("timeline"),this.set("timeline",a));var i=this.get("animations")||[];a.timer||a.initTimer();var o=t[0],s=t[1],u=t[2],f=u===void 0?"easeLinear":u,h=t[3],l=h===void 0?br:h,c=t[4],p=c===void 0?0:c,v,g,m,x,M;R(o)?(v=o,o={}):rt(o)&&o.onFrame&&(v=o.onFrame,g=o.repeat),rt(s)?(M=s,s=M.duration,f=M.easing||"easeLinear",p=M.delay||0,g=M.repeat||g||!1,l=M.callback||br,m=M.pauseCallback||br,x=M.resumeCallback||br):($(l)&&(p=l,l=null),R(f)?(l=f,f="easeLinear"):f=f||"easeLinear");var y=Ou(o,this),d={fromAttrs:Eu(y,this),toAttrs:y,duration:s,easing:f,repeat:g,callback:l,pauseCallback:m,resumeCallback:x,delay:p,startTime:a.getTime(),id:Ot(),onFrame:v,pathFormatted:!1};i.length>0?i=_u(i,d):a.addAnimator(this),i.push(d),this.set("animations",i),this.set("_pause",{isPaused:!1})}},r.prototype.stopAnimate=function(t){var n=this;t===void 0&&(t=!0);var a=this.get("animations");A(a,function(i){t&&(i.onFrame?n.attr(i.onFrame(1)):n.attr(i.toAttrs)),i.callback&&i.callback()}),this.set("animating",!1),this.set("animations",[])},r.prototype.pauseAnimate=function(){var t=this.get("timeline"),n=this.get("animations"),a=t.getTime();return A(n,function(i){i._paused=!0,i._pauseTime=a,i.pauseCallback&&i.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:a}),this},r.prototype.resumeAnimate=function(){var t=this.get("timeline"),n=t.getTime(),a=this.get("animations"),i=this.get("_pause").pauseTime;return A(a,function(o){o.startTime=o.startTime+(n-i),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",a),this},r.prototype.emitDelegation=function(t,n){var a=this,i=n.propagationPath;this.getEvents();var o;t==="mouseenter"?o=n.fromShape:t==="mouseleave"&&(o=n.toShape);for(var s=function(l){var c=i[l],p=c.get("name");if(p){if((c.isGroup()||c.isCanvas&&c.isCanvas())&&o&&_i(c,o))return"break";D(p)?A(p,function(v){a.emitDelegateEvent(c,v,n)}):u.emitDelegateEvent(c,p,n)}},u=this,f=0;f<i.length;f++){var h=s(f);if(h==="break")break}},r.prototype.emitDelegateEvent=function(t,n,a){var i=this.getEvents(),o=n+Tu+a.type;(i[o]||i[Du])&&(a.name=o,a.currentTarget=t,a.delegateTarget=this,a.delegateObject=t.get("delegateObject"),this.emit(o,a))},r.prototype.translate=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var a=this.getMatrix(),i=Gt(a,[["t",t,n]]);return this.setMatrix(i),this},r.prototype.move=function(t,n){var a=this.attr("x")||0,i=this.attr("y")||0;return this.translate(t-a,n-i),this},r.prototype.moveTo=function(t,n){return this.move(t,n)},r.prototype.scale=function(t,n){var a=this.getMatrix(),i=Gt(a,[["s",t,n||t]]);return this.setMatrix(i),this},r.prototype.rotate=function(t){var n=this.getMatrix(),a=Gt(n,[["r",t]]);return this.setMatrix(a),this},r.prototype.rotateAtStart=function(t){var n=this.attr(),a=n.x,i=n.y,o=this.getMatrix(),s=Gt(o,[["t",-a,-i],["r",t],["t",a,i]]);return this.setMatrix(s),this},r.prototype.rotateAtPoint=function(t,n,a){var i=this.getMatrix(),o=Gt(i,[["t",-t,-n],["r",a],["t",t,n]]);return this.setMatrix(o),this},r}(wn),ia={},Ze="_INDEX";function Xi(e,r){if(e.set("canvas",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){Xi(n,r)})}}function Hi(e,r){if(e.set("timeline",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){Hi(n,r)})}}function Bu(e,r,t){t===void 0&&(t=!0),t?r.destroy():(r.set("parent",null),r.set("canvas",null)),Oi(e.getChildren(),r)}function Lu(e){return function(r,t){var n=e(r,t);return n===0?r[Ze]-t[Ze]:n}}var $i=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var t=1/0,n=-1/0,a=1/0,i=-1/0,o=[],s=[],u=this.getChildren().filter(function(h){return h.get("visible")&&(!h.isGroup()||h.isGroup()&&h.getChildren().length>0)});u.length>0?(A(u,function(h){var l=h.getBBox();o.push(l.minX,l.maxX),s.push(l.minY,l.maxY)}),t=j(o),n=Z(o),a=j(s),i=Z(s)):(t=0,n=0,a=0,i=0);var f={x:t,y:a,minX:t,minY:a,maxX:n,maxY:i,width:n-t,height:i-a};return f},r.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,a=1/0,i=-1/0,o=[],s=[],u=this.getChildren().filter(function(h){return h.get("visible")&&(!h.isGroup()||h.isGroup()&&h.getChildren().length>0)});u.length>0?(A(u,function(h){var l=h.getCanvasBBox();o.push(l.minX,l.maxX),s.push(l.minY,l.maxY)}),t=j(o),n=Z(o),a=j(s),i=Z(s)):(t=0,n=0,a=0,i=0);var f={x:t,y:a,minX:t,minY:a,maxX:n,maxY:i,width:n-t,height:i-a};return f},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},r.prototype.onAttrChange=function(t,n,a){if(e.prototype.onAttrChange.call(this,t,n,a),t==="matrix"){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},r.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var a=this.getTotalMatrix();a!==n&&this._applyChildrenMarix(a)},r.prototype._applyChildrenMarix=function(t){var n=this.getChildren();A(n,function(a){a.applyMatrix(t)})},r.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t[0],i=t[1];rt(a)?i=a:i.type=a;var o=ia[i.type];o||(o=Mi(i.type),ia[i.type]=o);var s=this.getShapeBase(),u=new s[o](i);return this.add(u),u},r.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t[0],i=t[1],o;if(R(a))i?o=new a(i):o=new a({parent:this});else{var s=a||{},u=this.getGroupBase();o=new u(s)}return this.add(o),o},r.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},r.prototype.getShape=function(t,n,a){if(!sr(this))return null;var i=this.getChildren(),o;if(this.isCanvas())o=this._findShape(i,t,n,a);else{var s=[t,n,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(i,s[0],s[1],a))}return o},r.prototype._findShape=function(t,n,a,i){for(var o=null,s=t.length-1;s>=0;s--){var u=t[s];if(sr(u)&&(u.isGroup()?o=u.getShape(n,a,i):u.isHit(n,a)&&(o=u)),o)break}return o},r.prototype.add=function(t){var n=this.getCanvas(),a=this.getChildren(),i=this.get("timeline"),o=t.getParent();o&&Bu(o,t,!1),t.set("parent",this),n&&Xi(t,n),i&&Hi(t,i),a.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},r.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},r.prototype.getChildren=function(){return this.get("children")},r.prototype.sort=function(){var t=this.getChildren();A(t,function(n,a){return n[Ze]=a,n}),t.sort(Lu(function(n,a){return n.get("zIndex")-a.get("zIndex")})),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},r.prototype.getChildByIndex=function(t){var n=this.getChildren();return n[t]},r.prototype.getCount=function(){var t=this.getChildren();return t.length},r.prototype.contain=function(t){var n=this.getChildren();return n.indexOf(t)>-1},r.prototype.removeChild=function(t,n){n===void 0&&(n=!0),this.contain(t)&&t.remove(n)},r.prototype.findAll=function(t){var n=[],a=this.getChildren();return A(a,function(i){t(i)&&n.push(i),i.isGroup()&&(n=n.concat(i.findAll(t)))}),n},r.prototype.find=function(t){var n=null,a=this.getChildren();return A(a,function(i){if(t(i)?n=i:i.isGroup()&&(n=i.find(t)),n)return!1}),n},r.prototype.findById=function(t){return this.find(function(n){return n.get("id")===t})},r.prototype.findByClassName=function(t){return this.find(function(n){return n.get("className")===t})},r.prototype.findAllByName=function(t){return this.findAll(function(n){return n.get("name")===t})},r}(Ri),Xt=0,jt=0,qt=0,Wi=1e3,Ur,Qt,Zr=0,It=0,ue=0,ur=typeof performance=="object"&&performance.now?performance:Date,zi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gi(){return It||(zi(Yu),It=ur.now()+ue)}function Yu(){It=0}function je(){this._call=this._time=this._next=null}je.prototype=qi.prototype={constructor:je,restart:function(e,r,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Gi():+t)+(r==null?0:+r),!this._next&&Qt!==this&&(Qt?Qt._next=this:Ur=this,Qt=this),this._call=e,this._time=t,Qe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qe())}};function qi(e,r,t){var n=new je;return n.restart(e,r,t),n}function Fu(){Gi(),++Xt;for(var e=Ur,r;e;)(r=It-e._time)>=0&&e._call.call(null,r),e=e._next;--Xt}function oa(){It=(Zr=ur.now())+ue,Xt=jt=0;try{Fu()}finally{Xt=0,Ru(),It=0}}function Nu(){var e=ur.now(),r=e-Zr;r>Wi&&(ue-=r,Zr=e)}function Ru(){for(var e,r=Ur,t,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Ur=t);Qt=e,Qe(n)}function Qe(e){if(!Xt){jt&&(jt=clearTimeout(jt));var r=e-It;r>24?(e<1/0&&(jt=setTimeout(oa,e-ur.now()-ue)),qt&&(qt=clearInterval(qt))):(qt||(Zr=ur.now(),qt=setInterval(Nu,Wi)),Xt=1,zi(oa))}}function Xu(e){return+e}function Hu(e){return e*e}function $u(e){return e*(2-e)}function sa(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Wu(e){return e*e*e}function zu(e){return--e*e*e+1}function ua(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Cn=3,Gu=function e(r){r=+r;function t(n){return Math.pow(n,r)}return t.exponent=e,t}(Cn),qu=function e(r){r=+r;function t(n){return 1-Math.pow(1-n,r)}return t.exponent=e,t}(Cn),fa=function e(r){r=+r;function t(n){return((n*=2)<=1?Math.pow(n,r):2-Math.pow(2-n,r))/2}return t.exponent=e,t}(Cn),Vi=Math.PI,Ui=Vi/2;function Vu(e){return+e==1?1:1-Math.cos(e*Ui)}function Uu(e){return Math.sin(e*Ui)}function ha(e){return(1-Math.cos(Vi*e))/2}function At(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function Zu(e){return At(1-+e)}function ju(e){return 1-At(e)}function la(e){return((e*=2)<=1?At(1-e):2-At(e-1))/2}function Qu(e){return 1-Math.sqrt(1-e*e)}function Ju(e){return Math.sqrt(1- --e*e)}function ca(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Je=4/11,Ku=6/11,tf=8/11,rf=3/4,ef=9/11,nf=10/11,af=15/16,of=21/22,sf=63/64,Ir=1/Je/Je;function uf(e){return 1-fr(1-e)}function fr(e){return(e=+e)<Je?Ir*e*e:e<tf?Ir*(e-=Ku)*e+rf:e<nf?Ir*(e-=ef)*e+af:Ir*(e-=of)*e+sf}function ff(e){return((e*=2)<=1?1-fr(1-e):fr(e-1)+1)/2}var bn=1.70158,hf=function e(r){r=+r;function t(n){return(n=+n)*n*(r*(n-1)+n)}return t.overshoot=e,t}(bn),lf=function e(r){r=+r;function t(n){return--n*n*((n+1)*r+n)+1}return t.overshoot=e,t}(bn),va=function e(r){r=+r;function t(n){return((n*=2)<1?n*n*((r+1)*n-r):(n-=2)*n*((r+1)*n+r)+2)/2}return t.overshoot=e,t}(bn),Ht=2*Math.PI,Sn=1,Pn=.3,cf=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=Ht);function a(i){return r*At(- --i)*Math.sin((n-i)/t)}return a.amplitude=function(i){return e(i,t*Ht)},a.period=function(i){return e(r,i)},a}(Sn,Pn),pa=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=Ht);function a(i){return 1-r*At(i=+i)*Math.sin((i+n)/t)}return a.amplitude=function(i){return e(i,t*Ht)},a.period=function(i){return e(r,i)},a}(Sn,Pn),vf=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=Ht);function a(i){return((i=i*2-1)<0?r*At(-i)*Math.sin((n-i)/t):2-r*At(i)*Math.sin((n+i)/t))/2}return a.amplitude=function(i){return e(i,t*Ht)},a.period=function(i){return e(r,i)},a}(Sn,Pn),ga=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",easeLinear:Xu,easeQuad:sa,easeQuadIn:Hu,easeQuadOut:$u,easeQuadInOut:sa,easeCubic:ua,easeCubicIn:Wu,easeCubicOut:zu,easeCubicInOut:ua,easePoly:fa,easePolyIn:Gu,easePolyOut:qu,easePolyInOut:fa,easeSin:ha,easeSinIn:Vu,easeSinOut:Uu,easeSinInOut:ha,easeExp:la,easeExpIn:Zu,easeExpOut:ju,easeExpInOut:la,easeCircle:ca,easeCircleIn:Qu,easeCircleOut:Ju,easeCircleInOut:ca,easeBounce:fr,easeBounceIn:uf,easeBounceOut:fr,easeBounceInOut:ff,easeBack:va,easeBackIn:hf,easeBackOut:lf,easeBackInOut:va,easeElastic:pa,easeElasticIn:cf,easeElasticOut:pa,easeElasticInOut:vf});function kn(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function Zi(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function gr(){}var hr=.7,jr=1/hr,Rt="\\s*([+-]?\\d+)\\s*",lr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pf=/^#([0-9a-f]{3,8})$/,gf=new RegExp("^rgb\\("+[Rt,Rt,Rt]+"\\)$"),df=new RegExp("^rgb\\("+[et,et,et]+"\\)$"),mf=new RegExp("^rgba\\("+[Rt,Rt,Rt,lr]+"\\)$"),yf=new RegExp("^rgba\\("+[et,et,et,lr]+"\\)$"),xf=new RegExp("^hsl\\("+[lr,et,et]+"\\)$"),Mf=new RegExp("^hsla\\("+[lr,et,et,lr]+"\\)$"),da={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kn(gr,cr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ma,formatHex:ma,formatHsl:wf,formatRgb:ya,toString:ya});function ma(){return this.rgb().formatHex()}function wf(){return ji(this).formatHsl()}function ya(){return this.rgb().formatRgb()}function cr(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=pf.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?xa(r):t===3?new X(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?Er(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?Er(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=gf.exec(e))?new X(r[1],r[2],r[3],1):(r=df.exec(e))?new X(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=mf.exec(e))?Er(r[1],r[2],r[3],r[4]):(r=yf.exec(e))?Er(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=xf.exec(e))?Aa(r[1],r[2]/100,r[3]/100,1):(r=Mf.exec(e))?Aa(r[1],r[2]/100,r[3]/100,r[4]):da.hasOwnProperty(e)?xa(da[e]):e==="transparent"?new X(NaN,NaN,NaN,0):null}function xa(e){return new X(e>>16&255,e>>8&255,e&255,1)}function Er(e,r,t,n){return n<=0&&(e=r=t=NaN),new X(e,r,t,n)}function Af(e){return e instanceof gr||(e=cr(e)),e?(e=e.rgb(),new X(e.r,e.g,e.b,e.opacity)):new X}function Ke(e,r,t,n){return arguments.length===1?Af(e):new X(e,r,t,n==null?1:n)}function X(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}kn(X,Ke,Zi(gr,{brighter:function(e){return e=e==null?jr:Math.pow(jr,e),new X(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?hr:Math.pow(hr,e),new X(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ma,formatHex:Ma,formatRgb:wa,toString:wa}));function Ma(){return"#"+Te(this.r)+Te(this.g)+Te(this.b)}function wa(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Te(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Aa(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new K(e,r,t,n)}function ji(e){if(e instanceof K)return new K(e.h,e.s,e.l,e.opacity);if(e instanceof gr||(e=cr(e)),!e)return new K;if(e instanceof K)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,a=Math.min(r,t,n),i=Math.max(r,t,n),o=NaN,s=i-a,u=(i+a)/2;return s?(r===i?o=(t-n)/s+(t<n)*6:t===i?o=(n-r)/s+2:o=(r-t)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new K(o,s,u,e.opacity)}function Cf(e,r,t,n){return arguments.length===1?ji(e):new K(e,r,t,n==null?1:n)}function K(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}kn(K,Cf,Zi(gr,{brighter:function(e){return e=e==null?jr:Math.pow(jr,e),new K(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?hr:Math.pow(hr,e),new K(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,a=2*t-n;return new X(De(e>=240?e-240:e+120,a,n),De(e,a,n),De(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function De(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}function Tn(e){return function(){return e}}function bf(e,r){return function(t){return e+t*r}}function Sf(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function Pf(e){return(e=+e)==1?Qi:function(r,t){return t-r?Sf(r,t,e):Tn(isNaN(r)?t:r)}}function Qi(e,r){var t=r-e;return t?bf(e,t):Tn(isNaN(e)?r:e)}var Ca=function e(r){var t=Pf(r);function n(a,i){var o=t((a=Ke(a)).r,(i=Ke(i)).r),s=t(a.g,i.g),u=t(a.b,i.b),f=Qi(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=s(h),a.b=u(h),a.opacity=f(h),a+""}}return n.gamma=e,n}(1);function Ji(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),a;return function(i){for(a=0;a<t;++a)n[a]=e[a]*(1-i)+r[a]*i;return n}}function Ki(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kf(e,r){return(Ki(r)?Ji:to)(e,r)}function to(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,a=new Array(n),i=new Array(t),o;for(o=0;o<n;++o)a[o]=Qr(e[o],r[o]);for(;o<t;++o)i[o]=r[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function Tf(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function tn(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function Df(e,r){var t={},n={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?t[a]=Qr(e[a],r[a]):n[a]=r[a];return function(i){for(a in t)n[a]=t[a](i);return n}}var rn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ie=new RegExp(rn.source,"g");function If(e){return function(){return e}}function Ef(e){return function(r){return e(r)+""}}function Of(e,r){var t=rn.lastIndex=Ie.lastIndex=0,n,a,i,o=-1,s=[],u=[];for(e=e+"",r=r+"";(n=rn.exec(e))&&(a=Ie.exec(r));)(i=a.index)>t&&(i=r.slice(t,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,u.push({i:o,x:tn(n,a)})),t=Ie.lastIndex;return t<r.length&&(i=r.slice(t),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?Ef(u[0].x):If(r):(r=u.length,function(f){for(var h=0,l;h<r;++h)s[(l=u[h]).i]=l.x(f);return s.join("")})}function Qr(e,r){var t=typeof r,n;return r==null||t==="boolean"?Tn(r):(t==="number"?tn:t==="string"?(n=cr(r))?(r=n,Ca):Of:r instanceof cr?Ca:r instanceof Date?Tf:Ki(r)?Ji:Array.isArray(r)?to:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Df:tn)(e,r)}var _f=function(e){return["fill","stroke","fillStyle","strokeStyle"].includes(e)},Bf=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},ba=[1,0,0,0,1,0,0,0,1];function Lf(e,r,t){var n={},a=r.fromAttrs,i=r.toAttrs;if(!e.destroyed){var o;for(var s in i)if(!Gr(a[s],i[s]))if(s==="path"){var u=i[s],f=a[s];u.length>f.length?(u=Nt(i[s]),f=Nt(a[s]),f=Ii(f,u),f=Ue(f,u),r.fromAttrs.path=f,r.toAttrs.path=u):r.pathFormatted||(u=Nt(i[s]),f=Nt(a[s]),f=Ue(f,u),r.fromAttrs.path=f,r.toAttrs.path=u,r.pathFormatted=!0),n[s]=[];for(var h=0;h<u.length;h++){for(var l=u[h],c=f[h],p=[],v=0;v<l.length;v++)$(l[v])&&c&&$(c[v])?(o=Qr(c[v],l[v]),p.push(o(t))):p.push(l[v]);n[s].push(p)}}else if(s==="matrix"){var g=kf(a[s]||ba,i[s]||ba),m=g(t);n[s]=m}else _f(s)&&Bf(i[s])?n[s]=i[s]:R(i[s])||(o=Qr(a[s],i[s]),n[s]=o(t));e.attr(n)}}function Yf(e,r,t){var n=r.startTime,a=r.delay;if(t<n+a||r._paused)return!1;var i,o=r.duration,s=r.easing;if(t=t-n-r.delay,r.repeat)i=t%o/o,i=ga[s](i);else if(i=t/o,i<1)i=ga[s](i);else return r.onFrame?e.attr(r.onFrame(1)):e.attr(r.toAttrs),!0;if(r.onFrame){var u=r.onFrame(i);e.attr(u)}else Lf(e,r,i);return!1}var Ff=function(){function e(r){this.animators=[],this.current=0,this.timer=null,this.canvas=r}return e.prototype.initTimer=function(){var r=this,t=!1,n,a,i;this.timer=qi(function(o){if(r.current=o,r.animators.length>0){for(var s=r.animators.length-1;s>=0;s--){if(n=r.animators[s],n.destroyed){r.removeAnimator(s);continue}if(!n.isAnimatePaused()){a=n.get("animations");for(var u=a.length-1;u>=0;u--)i=a[u],t=Yf(n,i,o),t&&(a.splice(u,1),t=!1,i.callback&&i.callback())}a.length===0&&r.removeAnimator(s)}var f=r.canvas.get("autoDraw");f||r.canvas.draw()}})},e.prototype.addAnimator=function(r){this.animators.push(r)},e.prototype.removeAnimator=function(r){this.animators.splice(r,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(r){r===void 0&&(r=!0),this.animators.forEach(function(t){t.stopAnimate(r)}),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),Nf=40,Sa=0,Pa=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ka(e,r,t){t.name=r,t.target=e,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}function Rf(e,r,t){if(t.bubbles){var n=void 0,a=!1;if(r==="mouseenter"?(n=t.fromShape,a=!0):r==="mouseleave"&&(a=!0,n=t.toShape),e.isCanvas()&&a)return;if(n&&_i(e,n)){t.bubbles=!1;return}t.name=r,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}}var Xf=function(){function e(r){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var a=n.type;t._triggerEvent(a,n)},this._onDocumentMove=function(n){var a=t.canvas,i=a.get("el");if(i!==n.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(n);t.dragging&&t._emitEvent("drag",n,o,t.draggingShape)}},this._onDocumentMouseUp=function(n){var a=t.canvas,i=a.get("el");if(i!==n.target&&t.dragging){var o=t._getPointInfo(n);t.draggingShape&&t._emitEvent("drop",n,o,null),t._emitEvent("dragend",n,o,t.draggingShape),t._afterDrag(t.draggingShape,o,n)}},this.canvas=r.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var r=this,t=this.canvas.get("el");A(Pa,function(n){t.addEventListener(n,r._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var r=this,t=this.canvas.get("el");A(Pa,function(n){t.removeEventListener(n,r._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(r,t,n,a,i,o){var s=new Mn(r,t);return s.fromShape=i,s.toShape=o,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(a),s},e.prototype._getShape=function(r,t){return this.canvas.getShape(r.x,r.y,t)},e.prototype._getPointInfo=function(r){var t=this.canvas,n=t.getClientByEvent(r),a=t.getPointByEvent(r);return{x:a.x,y:a.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(r,t){var n=this._getPointInfo(t),a=this._getShape(n,t),i=this["_on"+r],o=!1;if(i)i.call(this,n,a,t);else{var s=this.currentShape;r==="mouseenter"||r==="dragenter"||r==="mouseover"?(this._emitEvent(r,t,n,null,null,a),a&&this._emitEvent(r,t,n,a,null,a),r==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):r==="mouseleave"||r==="dragleave"||r==="mouseout"?(o=!0,s&&this._emitEvent(r,t,n,s,s,null),this._emitEvent(r,t,n,null,s,null),r==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(r,t,n,a,null,null)}if(o||(this.currentShape=a),a&&!a.get("destroyed")){var u=this.canvas,f=u.get("el");f.style.cursor=a.attr("cursor")||u.get("cursor")}},e.prototype._onmousedown=function(r,t,n){n.button===Sa&&(this.mousedownShape=t,this.mousedownPoint=r,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,r,t,null,null)},e.prototype._emitMouseoverEvents=function(r,t,n,a){var i=this.canvas.get("el");n!==a&&(n&&(this._emitEvent("mouseout",r,t,n,n,a),this._emitEvent("mouseleave",r,t,n,n,a),(!a||a.get("destroyed"))&&(i.style.cursor=this.canvas.get("cursor"))),a&&(this._emitEvent("mouseover",r,t,a,n,a),this._emitEvent("mouseenter",r,t,a,n,a)))},e.prototype._emitDragoverEvents=function(r,t,n,a,i){a?(a!==n&&(n&&this._emitEvent("dragleave",r,t,n,n,a),this._emitEvent("dragenter",r,t,a,n,a)),i||this._emitEvent("dragover",r,t,a)):n&&this._emitEvent("dragleave",r,t,n,n,a),i&&this._emitEvent("dragover",r,t,a)},e.prototype._afterDrag=function(r,t,n){r&&(r.set("capture",!0),this.draggingShape=null),this.dragging=!1;var a=this._getShape(t,n);a!==r&&this._emitMouseoverEvents(n,t,r,a),this.currentShape=a},e.prototype._onmouseup=function(r,t,n){if(n.button===Sa){var a=this.draggingShape;this.dragging?(a&&this._emitEvent("drop",n,r,t),this._emitEvent("dragend",n,r,a),this._afterDrag(a,r,n)):(this._emitEvent("mouseup",n,r,t),t===this.mousedownShape&&this._emitEvent("click",n,r,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(r,t,n){n.preventDefault();var a=this.currentShape;this._emitDragoverEvents(n,r,a,t,!0)},e.prototype._onmousemove=function(r,t,n){var a=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,r,i,t,!1),this._emitEvent("drag",n,r,o);else{var s=this.mousedownPoint;if(s){var u=this.mousedownShape,f=n.timeStamp,h=f-this.mousedownTimeStamp,l=s.clientX-r.clientX,c=s.clientY-r.clientY,p=l*l+c*c;h>120||p>Nf?u&&u.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,r,o),this.mousedownShape=null,this.mousedownPoint=null):!u&&a.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,r,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,r,i,t),this._emitEvent("mousemove",n,r,t)):(this._emitMouseoverEvents(n,r,i,t),this._emitEvent("mousemove",n,r,t))}else this._emitMouseoverEvents(n,r,i,t),this._emitEvent("mousemove",n,r,t)}},e.prototype._emitEvent=function(r,t,n,a,i,o){var s=this._getEventObj(r,t,n,a,i,o);if(a){s.shape=a,ka(a,r,s);for(var u=a.getParent();u;)u.emitDelegation(r,s),s.propagationStopped||Rf(u,r,s),s.propagationPath.push(u),u=u.getParent()}else{var f=this.canvas;ka(f,r,s)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),Ta="px",Da=Bi(),Hf=Da&&Da.name==="firefox",fe=function(e){P(r,e);function r(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},r.prototype.initContainer=function(){var t=this.get("container");E(t)&&(t=document.getElementById(t),this.set("container",t))},r.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var n=this.get("container");n.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},r.prototype.initEvents=function(){var t=new Xf({canvas:this});t.init(),this.set("eventController",t)},r.prototype.initTimeline=function(){var t=new Ff(this);this.set("timeline",t)},r.prototype.setDOMSize=function(t,n){var a=this.get("el");Jn&&(a.style.width=t+Ta,a.style.height=n+Ta)},r.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set("width",t),this.set("height",n),this.onCanvasChange("changeSize")},r.prototype.getRenderer=function(){return this.get("renderer")},r.prototype.getCursor=function(){return this.get("cursor")},r.prototype.setCursor=function(t){this.set("cursor",t);var n=this.get("el");Jn&&n&&(n.style.cursor=t)},r.prototype.getPointByEvent=function(t){var n=this.get("supportCSSTransform");if(n){if(Hf&&!b(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!b(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var a=this.getClientByEvent(t),i=a.x,o=a.y;return this.getPointByClient(i,o)},r.prototype.getClientByEvent=function(t){var n=t;return t.touches&&(t.type==="touchend"?n=t.changedTouches[0]:n=t.touches[0]),{x:n.clientX,y:n.clientY}},r.prototype.getPointByClient=function(t,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:t-i.left,y:n-i.top}},r.prototype.getClientByPoint=function(t,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:t+i.left,y:n+i.top}},r.prototype.draw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},r.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},r.prototype.isCanvas=function(){return!0},r.prototype.getParent=function(){return null},r.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},r}($i),he=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isGroup=function(){return!0},r.prototype.isEntityGroup=function(){return!1},r.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),a=0;a<n.length;a++){var i=n[a];t.add(i.clone())}return t},r}($i),le=function(e){P(r,e);function r(t){return e.call(this,t)||this}return r.prototype._isInBBox=function(t,n){var a=this.getBBox();return a.minX<=t&&a.maxX>=t&&a.minY<=n&&a.maxY>=n},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},r.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},r.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},r.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},r.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),a=t.minX,i=t.minY,o=t.maxX,s=t.maxY;if(n){var u=ut(n,[t.minX,t.minY]),f=ut(n,[t.maxX,t.minY]),h=ut(n,[t.minX,t.maxY]),l=ut(n,[t.maxX,t.maxY]);a=Math.min(u[0],f[0],h[0],l[0]),o=Math.max(u[0],f[0],h[0],l[0]),i=Math.min(u[1],f[1],h[1],l[1]),s=Math.max(u[1],f[1],h[1],l[1])}var c=this.attrs;if(c.shadowColor){var p=c.shadowBlur,v=p===void 0?0:p,g=c.shadowOffsetX,m=g===void 0?0:g,x=c.shadowOffsetY,M=x===void 0?0:x,y=a-v+m,d=o+v+m,w=i-v+M,S=s+v+M;a=Math.min(a,y),o=Math.max(o,d),i=Math.min(i,w),s=Math.max(s,S)}return{x:a,y:i,minX:a,minY:i,maxX:o,maxY:s,width:o-a,height:s-i}},r.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},r.prototype.isClipShape=function(){return this.get("isClipShape")},r.prototype.isInShape=function(t,n){return!1},r.prototype.isOnlyHitBox=function(){return!1},r.prototype.isHit=function(t,n){var a=this.get("startArrowShape"),i=this.get("endArrowShape"),o=[t,n,1];o=this.invertFromMatrix(o);var s=o[0],u=o[1],f=this._isInBBox(s,u);return this.isOnlyHitBox()?f:!!(f&&!this.isClipped(s,u)&&(this.isInShape(s,u)||a&&a.isHit(s,u)||i&&i.isHit(s,u)))},r}(Ri),ro=new Map;function nt(e,r){ro.set(e,r)}function ce(e){return ro.get(e)}function eo(e){var r=e.attr(),t=r.x,n=r.y,a=r.width,i=r.height;return{x:t,y:n,width:a,height:i}}function no(e){var r=e.attr(),t=r.x,n=r.y,a=r.r;return{x:t-a,y:n-a,width:a*2,height:a*2}}function Ia(e){return Math.min.apply(null,e)}function Ea(e){return Math.max.apply(null,e)}function B(e,r,t,n){var a=e-t,i=r-n;return Math.sqrt(a*a+i*i)}function Xr(e,r){return Math.abs(e-r)<.001}function Wt(e,r){var t=Ia(e),n=Ia(r),a=Ea(e),i=Ea(r);return{x:t,y:n,width:a-t,height:i-n}}function ve(e){return(e+Math.PI*2)%(Math.PI*2)}var _={box:function(e,r,t,n){return Wt([e,t],[r,n])},length:function(e,r,t,n){return B(e,r,t,n)},pointAt:function(e,r,t,n,a){return{x:(1-a)*e+a*t,y:(1-a)*r+a*n}},pointDistance:function(e,r,t,n,a,i){var o=(t-e)*(a-e)+(n-r)*(i-r);if(o<0)return B(e,r,a,i);var s=(t-e)*(t-e)+(n-r)*(n-r);return o>s?B(t,n,a,i):this.pointToLine(e,r,t,n,a,i)},pointToLine:function(e,r,t,n,a,i){var o=[t-e,n-r];if(Cu(o,[0,0]))return Math.sqrt((a-e)*(a-e)+(i-r)*(i-r));var s=[-o[1],o[0]];Mu(s,s);var u=[a-e,i-r];return Math.abs(wu(u,s))},tangentAngle:function(e,r,t,n){return Math.atan2(n-r,t-e)}},$f=1e-4;function ao(e,r,t,n,a,i){var o,s=1/0,u=[t,n],f=20;i&&i>200&&(f=i/10);for(var h=1/f,l=h/10,c=0;c<=f;c++){var p=c*h,v=[a.apply(null,e.concat([p])),a.apply(null,r.concat([p]))],g=B(u[0],u[1],v[0],v[1]);g<s&&(o=p,s=g)}if(o===0)return{x:e[0],y:r[0]};if(o===1){var m=e.length;return{x:e[m-1],y:r[m-1]}}s=1/0;for(var c=0;c<32&&!(l<$f);c++){var x=o-l,M=o+l,v=[a.apply(null,e.concat([x])),a.apply(null,r.concat([x]))],g=B(u[0],u[1],v[0],v[1]);if(x>=0&&g<s)o=x,s=g;else{var y=[a.apply(null,e.concat([M])),a.apply(null,r.concat([M]))],d=B(u[0],u[1],y[0],y[1]);M<=1&&d<s?(o=M,s=d):l*=.5}}return{x:a.apply(null,e.concat([o])),y:a.apply(null,r.concat([o]))}}function Wf(e,r){for(var t=0,n=e.length,a=0;a<n;a++){var i=e[a],o=r[a],s=e[(a+1)%n],u=r[(a+1)%n];t+=B(i,o,s,u)}return t/2}function mt(e,r,t,n){var a=1-n;return a*a*e+2*n*a*r+n*n*t}function Oa(e,r,t){var n=e+t-2*r;if(Xr(n,0))return[.5];var a=(e-r)/n;return a<=1&&a>=0?[a]:[]}function _a(e,r,t,n){return 2*(1-n)*(r-e)+2*n*(t-r)}function io(e,r,t,n,a,i,o){var s=mt(e,t,a,o),u=mt(r,n,i,o),f=_.pointAt(e,r,t,n,o),h=_.pointAt(t,n,a,i,o);return[[e,r,f.x,f.y,s,u],[s,u,h.x,h.y,a,i]]}function en(e,r,t,n,a,i,o){if(o===0)return(B(e,r,t,n)+B(t,n,a,i)+B(e,r,a,i))/2;var s=io(e,r,t,n,a,i,.5),u=s[0],f=s[1];return u.push(o-1),f.push(o-1),en.apply(null,u)+en.apply(null,f)}var oo={box:function(e,r,t,n,a,i){var o=Oa(e,t,a)[0],s=Oa(r,n,i)[0],u=[e,a],f=[r,i];return o!==void 0&&u.push(mt(e,t,a,o)),s!==void 0&&f.push(mt(r,n,i,s)),Wt(u,f)},length:function(e,r,t,n,a,i){return en(e,r,t,n,a,i,3)},nearestPoint:function(e,r,t,n,a,i,o,s){return ao([e,t,a],[r,n,i],o,s,mt)},pointDistance:function(e,r,t,n,a,i,o,s){var u=this.nearestPoint(e,r,t,n,a,i,o,s);return B(u.x,u.y,o,s)},interpolationAt:mt,pointAt:function(e,r,t,n,a,i,o){return{x:mt(e,t,a,o),y:mt(r,n,i,o)}},divide:function(e,r,t,n,a,i,o){return io(e,r,t,n,a,i,o)},tangentAngle:function(e,r,t,n,a,i,o){var s=_a(e,t,a,o),u=_a(r,n,i,o),f=Math.atan2(u,s);return ve(f)}};function yt(e,r,t,n,a){var i=1-a;return i*i*i*e+3*r*a*i*i+3*t*a*a*i+n*a*a*a}function Ba(e,r,t,n,a){var i=1-a;return 3*(i*i*(r-e)+2*i*a*(t-r)+a*a*(n-t))}function Ee(e,r,t,n){var a=-3*e+9*r-9*t+3*n,i=6*e-12*r+6*t,o=3*r-3*e,s=[],u,f,h;if(Xr(a,0))Xr(i,0)||(u=-o/i,u>=0&&u<=1&&s.push(u));else{var l=i*i-4*a*o;Xr(l,0)?s.push(-i/(2*a)):l>0&&(h=Math.sqrt(l),u=(-i+h)/(2*a),f=(-i-h)/(2*a),u>=0&&u<=1&&s.push(u),f>=0&&f<=1&&s.push(f))}return s}function so(e,r,t,n,a,i,o,s,u){var f=yt(e,t,a,o,u),h=yt(r,n,i,s,u),l=_.pointAt(e,r,t,n,u),c=_.pointAt(t,n,a,i,u),p=_.pointAt(a,i,o,s,u),v=_.pointAt(l.x,l.y,c.x,c.y,u),g=_.pointAt(c.x,c.y,p.x,p.y,u);return[[e,r,l.x,l.y,v.x,v.y,f,h],[f,h,g.x,g.y,p.x,p.y,o,s]]}function nn(e,r,t,n,a,i,o,s,u){if(u===0)return Wf([e,t,a,o],[r,n,i,s]);var f=so(e,r,t,n,a,i,o,s,.5),h=f[0],l=f[1];return h.push(u-1),l.push(u-1),nn.apply(null,h)+nn.apply(null,l)}var rr={extrema:Ee,box:function(e,r,t,n,a,i,o,s){for(var u=[e,o],f=[r,s],h=Ee(e,t,a,o),l=Ee(r,n,i,s),c=0;c<h.length;c++)u.push(yt(e,t,a,o,h[c]));for(var c=0;c<l.length;c++)f.push(yt(r,n,i,s,l[c]));return Wt(u,f)},length:function(e,r,t,n,a,i,o,s){return nn(e,r,t,n,a,i,o,s,3)},nearestPoint:function(e,r,t,n,a,i,o,s,u,f,h){return ao([e,t,a,o],[r,n,i,s],u,f,yt,h)},pointDistance:function(e,r,t,n,a,i,o,s,u,f,h){var l=this.nearestPoint(e,r,t,n,a,i,o,s,u,f,h);return B(l.x,l.y,u,f)},interpolationAt:yt,pointAt:function(e,r,t,n,a,i,o,s,u){return{x:yt(e,t,a,o,u),y:yt(r,n,i,s,u)}},divide:function(e,r,t,n,a,i,o,s,u){return so(e,r,t,n,a,i,o,s,u)},tangentAngle:function(e,r,t,n,a,i,o,s,u){var f=Ba(e,t,a,o,u),h=Ba(r,n,i,s,u);return ve(Math.atan2(h,f))}};function La(e,r){var t=Math.abs(e);return r>0?t:t*-1}var zf={box:function(e,r,t,n){return{x:e-t,y:r-n,width:t*2,height:n*2}},length:function(e,r,t,n){return Math.PI*(3*(t+n)-Math.sqrt((3*t+n)*(t+3*n)))},nearestPoint:function(e,r,t,n,a,i){var o=t,s=n;if(o===0||s===0)return{x:e,y:r};for(var u=a-e,f=i-r,h=Math.abs(u),l=Math.abs(f),c=o*o,p=s*s,v=Math.PI/4,g,m,x=0;x<4;x++){g=o*Math.cos(v),m=s*Math.sin(v);var M=(c-p)*Math.pow(Math.cos(v),3)/o,y=(p-c)*Math.pow(Math.sin(v),3)/s,d=g-M,w=m-y,S=h-M,C=l-y,I=Math.hypot(w,d),O=Math.hypot(C,S),Y=I*Math.asin((d*C-w*S)/(I*O)),L=Y/Math.sqrt(c+p-g*g-m*m);v+=L,v=Math.min(Math.PI/2,Math.max(0,v))}return{x:e+La(g,u),y:r+La(m,f)}},pointDistance:function(e,r,t,n,a,i){var o=this.nearestPoint(e,r,t,n,a,i);return B(o.x,o.y,a,i)},pointAt:function(e,r,t,n,a){var i=2*Math.PI*a;return{x:e+t*Math.cos(i),y:r+n*Math.sin(i)}},tangentAngle:function(e,r,t,n,a){var i=2*Math.PI*a,o=Math.atan2(n*Math.cos(i),-t*Math.sin(i));return ve(o)}};function Gf(e,r,t,n,a,i,o,s){return-1*t*Math.cos(a)*Math.sin(s)-n*Math.sin(a)*Math.cos(s)}function qf(e,r,t,n,a,i,o,s){return-1*t*Math.sin(a)*Math.sin(s)+n*Math.cos(a)*Math.cos(s)}function Vf(e,r,t){return Math.atan(-r/e*Math.tan(t))}function Uf(e,r,t){return Math.atan(r/(e*Math.tan(t)))}function Ya(e,r,t,n,a,i){return t*Math.cos(a)*Math.cos(i)-n*Math.sin(a)*Math.sin(i)+e}function Fa(e,r,t,n,a,i){return t*Math.sin(a)*Math.cos(i)+n*Math.cos(a)*Math.sin(i)+r}function Zf(e,r,t,n){var a=Math.atan2(n*e,t*r);return(a+Math.PI*2)%(Math.PI*2)}function Na(e,r,t){return{x:e*Math.cos(t),y:r*Math.sin(t)}}function Ra(e,r,t){var n=Math.cos(t),a=Math.sin(t);return[e*n-r*a,e*a+r*n]}var jf={box:function(e,r,t,n,a,i,o){for(var s=Vf(t,n,a),u=1/0,f=-1/0,h=[i,o],l=-Math.PI*2;l<=Math.PI*2;l+=Math.PI){var c=s+l;i<o?i<c&&c<o&&h.push(c):o<c&&c<i&&h.push(c)}for(var l=0;l<h.length;l++){var p=Ya(e,r,t,n,a,h[l]);p<u&&(u=p),p>f&&(f=p)}for(var v=Uf(t,n,a),g=1/0,m=-1/0,x=[i,o],l=-Math.PI*2;l<=Math.PI*2;l+=Math.PI){var M=v+l;i<o?i<M&&M<o&&x.push(M):o<M&&M<i&&x.push(M)}for(var l=0;l<x.length;l++){var y=Fa(e,r,t,n,a,x[l]);y<g&&(g=y),y>m&&(m=y)}return{x:u,y:g,width:f-u,height:m-g}},length:function(e,r,t,n,a,i,o){},nearestPoint:function(e,r,t,n,a,i,o,s,u){var f=Ra(s-e,u-r,-a),h=f[0],l=f[1],c=zf.nearestPoint(0,0,t,n,h,l),p=Zf(t,n,c.x,c.y);p<i?c=Na(t,n,i):p>o&&(c=Na(t,n,o));var v=Ra(c.x,c.y,a);return{x:v[0]+e,y:v[1]+r}},pointDistance:function(e,r,t,n,a,i,o,s,u){var f=this.nearestPoint(e,r,t,n,s,u);return B(f.x,f.y,s,u)},pointAt:function(e,r,t,n,a,i,o,s){var u=(o-i)*s+i;return{x:Ya(e,r,t,n,a,u),y:Fa(e,r,t,n,a,u)}},tangentAngle:function(e,r,t,n,a,i,o,s){var u=(o-i)*s+i,f=Gf(e,r,t,n,a,i,o,u),h=qf(e,r,t,n,a,i,o,u);return ve(Math.atan2(h,f))}};function uo(e){for(var r=0,t=[],n=0;n<e.length-1;n++){var a=e[n],i=e[n+1],o=B(a[0],a[1],i[0],i[1]),s={from:a,to:i,length:o};t.push(s),r+=o}return{segments:t,totalLength:r}}function Qf(e){if(e.length<2)return 0;for(var r=0,t=0;t<e.length-1;t++){var n=e[t],a=e[t+1];r+=B(n[0],n[1],a[0],a[1])}return r}function Jf(e,r){if(r>1||r<0||e.length<2)return null;var t=uo(e),n=t.segments,a=t.totalLength;if(a===0)return{x:e[0][0],y:e[0][1]};for(var i=0,o=null,s=0;s<n.length;s++){var u=n[s],f=u.from,h=u.to,l=u.length/a;if(r>=i&&r<=i+l){var c=(r-i)/l;o=_.pointAt(f[0],f[1],h[0],h[1],c);break}i+=l}return o}function Kf(e,r){if(r>1||r<0||e.length<2)return 0;for(var t=uo(e),n=t.segments,a=t.totalLength,i=0,o=0,s=0;s<n.length;s++){var u=n[s],f=u.from,h=u.to,l=u.length/a;if(r>=i&&r<=i+l){o=Math.atan2(h[1]-f[1],h[0]-f[0]);break}i+=l}return o}function th(e,r,t){for(var n=1/0,a=0;a<e.length-1;a++){var i=e[a],o=e[a+1],s=_.pointDistance(i[0],i[1],o[0],o[1],r,t);s<n&&(n=s)}return n}var fo={box:function(e){for(var r=[],t=[],n=0;n<e.length;n++){var a=e[n];r.push(a[0]),t.push(a[1])}return Wt(r,t)},length:function(e){return Qf(e)},pointAt:function(e,r){return Jf(e,r)},pointDistance:function(e,r,t){return th(e,r,t)},tangentAngle:function(e,r){return Kf(e,r)}};function Xa(e,r){return!e||!r?e||r:{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}function Dn(e,r){var t=e.get("startArrowShape"),n=e.get("endArrowShape"),a=null,i=null;return t&&(a=t.getCanvasBBox(),r=Xa(r,a)),n&&(i=n.getCanvasBBox(),r=Xa(r,i)),r}function rh(e){for(var r=e.attr(),t=r.points,n=[],a=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),a.push(o[1])}var s=Wt(n,a),u=s.x,f=s.y,h=s.width,l=s.height,c={minX:u,minY:f,maxX:u+h,maxY:f+l};return c=Dn(e,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function eh(e){for(var r=e.attr(),t=r.points,n=[],a=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),a.push(o[1])}return Wt(n,a)}var Oe=null;function pe(){if(!Oe){var e=document.createElement("canvas");e.width=1,e.height=1,Oe=e.getContext("2d")}return Oe}function ge(e,r,t){var n=1;if(E(e)&&(n=e.split(`
`).length),n>1){var a=nh(r,t);return r*n+a*(n-1)}return r}function nh(e,r){return r?r-e:e*.14}function ah(e,r){var t=pe(),n=0;if(b(e)||e==="")return n;if(t.save(),t.font=r,E(e)&&e.includes(`
`)){var a=e.split(`
`);A(a,function(i){var o=t.measureText(i).width;n<o&&(n=o)})}else n=t.measureText(e).width;return t.restore(),n}function de(e){var r=e.fontSize,t=e.fontFamily,n=e.fontWeight,a=e.fontStyle,i=e.fontVariant;return[a,i,n,r+"px",t].join(" ").trim()}function ih(e){var r=e.attr(),t=r.x,n=r.y,a=r.text,i=r.fontSize,o=r.lineHeight,s=r.font;s||(s=de(r));var u=ah(a,s),f;if(!u)f={x:t,y:n,width:0,height:0};else{var h=r.textAlign,l=r.textBaseline,c=ge(a,i,o),p={x:t,y:n-c};h&&(h==="end"||h==="right"?p.x-=u:h==="center"&&(p.x-=u/2)),l&&(l==="top"?p.y+=c:l==="middle"&&(p.y+=c/2)),f={x:p.x,y:p.y,width:u,height:c}}return f}var oh=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,sh=/[^\s\,]+/ig;function uh(e){var r=e||[];if(D(r))return r;if(E(r))return r=r.match(oh),A(r,function(t,n){if(t=t.match(sh),t[0].length>1){var a=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=a}A(t,function(i,o){isNaN(i)||(t[o]=+i)}),r[n]=t}),r}function fh(e,r,t,n){var a=[],i=!!n,o,s,u,f,h,l,c;if(i){u=n[0],f=n[1];for(var p=0,v=e.length;p<v;p+=1){var g=e[p];u=bt([0,0],u,g),f=St([0,0],f,g)}}for(var p=0,m=e.length;p<m;p+=1){var g=e[p];if(p===0&&!t)c=g;else if(p===m-1&&!t)l=g,a.push(c),a.push(l);else{var x=[p?p-1:m-1,p-1][t?0:1];o=e[x],s=e[t?(p+1)%m:p+1];var M=[0,0];M=Pe(M,s,o),M=zt(M,M,r);var y=na(g,o),d=na(g,s),w=y+d;w!==0&&(y/=w,d/=w);var S=zt([0,0],M,-y),C=zt([0,0],M,d);l=Dr([0,0],g,S),h=Dr([0,0],g,C),h=bt([0,0],h,St([0,0],s,g)),h=St([0,0],h,bt([0,0],s,g)),S=Pe([0,0],h,g),S=zt([0,0],S,-y/d),l=Dr([0,0],g,S),l=bt([0,0],l,St([0,0],o,g)),l=St([0,0],l,bt([0,0],o,g)),C=Pe([0,0],g,l),C=zt([0,0],C,d/y),h=Dr([0,0],g,C),i&&(l=St([0,0],l,u),l=bt([0,0],l,f),h=St([0,0],h,u),h=bt([0,0],h,f)),a.push(c),a.push(l),c=h}}return t&&a.push(a.shift()),a}function ap(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var n=!!r,a=[],i=0,o=e.length;i<o;i+=2)a.push([e[i],e[i+1]]);for(var s=fh(a,.4,n,t),u=a.length,f=[],h,l,c,i=0;i<u-1;i+=1)h=s[i*2],l=s[i*2+1],c=a[i+1],f.push(["C",h[0],h[1],l[0],l[1],c[0],c[1]]);return n&&(h=s[u],l=s[u+1],c=a[0],f.push(["C",h[0],h[1],l[0],l[1],c[0],c[1]])),f}var er=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,hh=new RegExp("([a-z])["+er+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+er+"]*,?["+er+"]*)+)","ig"),lh=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+er+"]*,?["+er+"]*","ig");function ch(e){if(!e)return null;if(D(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(hh,function(n,a,i){var o=[],s=a.toLowerCase();if(i.replace(lh,function(u,f){f&&o.push(+f)}),s==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),s="l",a=a==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([a,o[0]]),s==="r")t.push([a].concat(o));else for(;o.length>=r[s]&&(t.push([a].concat(o.splice(0,r[s]))),!!r[s]););return""}),t}var vh=/[a-z]/;function Ha(e,r){return[r[0]+(r[0]-e[0]),r[1]+(r[1]-e[1])]}function ho(e){var r=ch(e);if(!r||!r.length)return[["M",0,0]];for(var t=!1,n=0;n<r.length;n++){var a=r[n][0];if(vh.test(a)||["V","H","T","S"].indexOf(a)>=0){t=!0;break}}if(!t)return r;var i=[],o=0,s=0,u=0,f=0,h=0,l=r[0];(l[0]==="M"||l[0]==="m")&&(o=+l[1],s=+l[2],u=o,f=s,h++,i[0]=["M",o,s]);for(var n=h,c=r.length;n<c;n++){var p=r[n],v=i[n-1],g=[],a=p[0],m=a.toUpperCase();if(a!==m)switch(g[0]=m,m){case"A":g[1]=p[1],g[2]=p[2],g[3]=p[3],g[4]=p[4],g[5]=p[5],g[6]=+p[6]+o,g[7]=+p[7]+s;break;case"V":g[1]=+p[1]+s;break;case"H":g[1]=+p[1]+o;break;case"M":u=+p[1]+o,f=+p[2]+s,g[1]=u,g[2]=f;break;default:for(var x=1,M=p.length;x<M;x++)g[x]=+p[x]+(x%2?o:s)}else g=r[n];switch(m){case"Z":o=+u,s=+f;break;case"H":o=g[1],g=["L",o,s];break;case"V":s=g[1],g=["L",o,s];break;case"T":o=g[1],s=g[2];var y=Ha([v[1],v[2]],[v[3],v[4]]);g=["Q",y[0],y[1],o,s];break;case"S":o=g[g.length-2],s=g[g.length-1];var d=v.length,w=Ha([v[d-4],v[d-3]],[v[d-2],v[d-1]]);g=["C",w[0],w[1],g[1],g[2],o,s];break;case"M":u=g[g.length-2],f=g[g.length-1];break;default:o=g[g.length-2],s=g[g.length-1]}i.push(g)}return i}function Or(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function an(e,r){return Or(e)*Or(r)?(e[0]*r[0]+e[1]*r[1])/(Or(e)*Or(r)):1}function $a(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(an(e,r))}function on(e,r){return e[0]===r[0]&&e[1]===r[1]}function ph(e,r){var t=r[1],n=r[2],a=dn(mn(r[3]),Math.PI*2),i=r[4],o=r[5],s=e[0],u=e[1],f=r[6],h=r[7],l=Math.cos(a)*(s-f)/2+Math.sin(a)*(u-h)/2,c=-1*Math.sin(a)*(s-f)/2+Math.cos(a)*(u-h)/2,p=l*l/(t*t)+c*c/(n*n);p>1&&(t*=Math.sqrt(p),n*=Math.sqrt(p));var v=t*t*(c*c)+n*n*(l*l),g=v?Math.sqrt((t*t*(n*n)-v)/v):1;i===o&&(g*=-1),isNaN(g)&&(g=0);var m=n?g*t*c/n:0,x=t?g*-n*l/t:0,M=(s+f)/2+Math.cos(a)*m-Math.sin(a)*x,y=(u+h)/2+Math.sin(a)*m+Math.cos(a)*x,d=[(l-m)/t,(c-x)/n],w=[(-1*l-m)/t,(-1*c-x)/n],S=$a([1,0],d),C=$a(d,w);return an(d,w)<=-1&&(C=Math.PI),an(d,w)>=1&&(C=0),o===0&&C>0&&(C=C-2*Math.PI),o===1&&C<0&&(C=C+2*Math.PI),{cx:M,cy:y,rx:on(e,[f,h])?0:t,ry:on(e,[f,h])?0:n,startAngle:S,endAngle:S+C,xRotation:a,arcFlag:i,sweepFlag:o}}function Wa(e,r){return[r[0]+(r[0]-e[0]),r[1]+(r[1]-e[1])]}function lo(e){e=uh(e);for(var r=[],t=null,n=null,a=null,i=0,o=e.length,s=0;s<o;s++){var u=e[s];n=e[s+1];var f=u[0],h={command:f,prePoint:t,params:u,startTangent:null,endTangent:null};switch(f){case"M":a=[u[1],u[2]],i=s;break;case"A":var l=ph(t,u);h.arcParams=l;break}if(f==="Z")t=a,n=e[i+1];else{var c=u.length;t=[u[c-2],u[c-1]]}n&&n[0]==="Z"&&(n=e[i],r[i]&&(r[i].prePoint=t)),h.currentPoint=t,r[i]&&on(t,r[i].currentPoint)&&(r[i].prePoint=h.prePoint);var p=n?[n[n.length-2],n[n.length-1]]:null;h.nextPoint=p;var v=h.prePoint;if(["L","H","V"].includes(f))h.startTangent=[v[0]-t[0],v[1]-t[1]],h.endTangent=[t[0]-v[0],t[1]-v[1]];else if(f==="Q"){var g=[u[1],u[2]];h.startTangent=[v[0]-g[0],v[1]-g[1]],h.endTangent=[t[0]-g[0],t[1]-g[1]]}else if(f==="T"){var m=r[s-1],g=Wa(m.currentPoint,v);m.command==="Q"?(h.command="Q",h.startTangent=[v[0]-g[0],v[1]-g[1]],h.endTangent=[t[0]-g[0],t[1]-g[1]]):(h.command="TL",h.startTangent=[v[0]-t[0],v[1]-t[1]],h.endTangent=[t[0]-v[0],t[1]-v[1]])}else if(f==="C"){var x=[u[1],u[2]],M=[u[3],u[4]];h.startTangent=[v[0]-x[0],v[1]-x[1]],h.endTangent=[t[0]-M[0],t[1]-M[1]],h.startTangent[0]===0&&h.startTangent[1]===0&&(h.startTangent=[x[0]-M[0],x[1]-M[1]]),h.endTangent[0]===0&&h.endTangent[1]===0&&(h.endTangent=[M[0]-x[0],M[1]-x[1]])}else if(f==="S"){var m=r[s-1],x=Wa(m.currentPoint,v),M=[u[1],u[2]];m.command==="C"?(h.command="C",h.startTangent=[v[0]-x[0],v[1]-x[1]],h.endTangent=[t[0]-M[0],t[1]-M[1]]):(h.command="SQ",h.startTangent=[v[0]-M[0],v[1]-M[1]],h.endTangent=[t[0]-M[0],t[1]-M[1]])}else if(f==="A"){var y=.001,d=h.arcParams||{},w=d.cx,S=w===void 0?0:w,C=d.cy,I=C===void 0?0:C,O=d.rx,Y=O===void 0?0:O,L=d.ry,W=L===void 0?0:L,ot=d.sweepFlag,_t=ot===void 0?0:ot,Bt=d.startAngle,st=Bt===void 0?0:Bt,ht=d.endAngle,lt=ht===void 0?0:ht;_t===0&&(y*=-1);var V=Y*Math.cos(st-y)+S,Mr=W*Math.sin(st-y)+I;h.startTangent=[V-a[0],Mr-a[1]];var ct=Y*Math.cos(st+lt+y)+S,wr=W*Math.sin(st+lt-y)+I;h.endTangent=[v[0]-ct,v[1]-wr]}r.push(h)}return r}var za=function(e,r,t){return e>=r&&e<=t};function gh(e,r,t,n){var a=.001,i={x:t.x-e.x,y:t.y-e.y},o={x:r.x-e.x,y:r.y-e.y},s={x:n.x-t.x,y:n.y-t.y},u=o.x*s.y-o.y*s.x,f=u*u,h=o.x*o.x+o.y*o.y,l=s.x*s.x+s.y*s.y,c=null;if(f>a*h*l){var p=(i.x*s.y-i.y*s.x)/u,v=(i.x*o.y-i.y*o.x)/u;za(p,0,1)&&za(v,0,1)&&(c={x:e.x+p*o.x,y:e.y+p*o.y})}return c}var dh=1e-6;function _e(e){return Math.abs(e)<dh?0:e<0?-1:1}function mh(e,r,t){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function Ga(e,r,t){var n=!1,a=e.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=e[i],s=e[(i+1)%a];if(mh(o,s,[r,t]))return!0;_e(o[1]-t)>0!=_e(s[1]-t)>0&&_e(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function qa(e){for(var r=[],t=e.length,n=0;n<t-1;n++){var a=e[n],i=e[n+1];r.push({from:{x:a[0],y:a[1]},to:{x:i[0],y:i[1]}})}if(r.length>1){var o=e[0],s=e[t-1];r.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return r}function yh(e,r){var t=!1;return A(e,function(n){if(gh(n.from,n.to,r.from,r.to))return t=!0,!1}),t}function Va(e){var r=e.map(function(n){return n[0]}),t=e.map(function(n){return n[1]});return{minX:Math.min.apply(null,r),maxX:Math.max.apply(null,r),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function xh(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function ip(e,r){if(e.length<2||r.length<2)return!1;var t=Va(e),n=Va(r);if(!xh(t,n))return!1;var a=!1;if(A(r,function(u){if(Ga(e,u[0],u[1]))return a=!0,!1}),a||(A(e,function(u){if(Ga(r,u[0],u[1]))return a=!0,!1}),a))return!0;var i=qa(e),o=qa(r),s=!1;return A(o,function(u){if(yh(i,u))return s=!0,!1}),s}function Mh(e,r){for(var t=[],n=[],a=[],i=0;i<e.length;i++){var o=e[i],s=o.currentPoint,u=o.params,f=o.prePoint,h=void 0;switch(o.command){case"Q":h=oo.box(f[0],f[1],u[1],u[2],u[3],u[4]);break;case"C":h=rr.box(f[0],f[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case"A":var l=o.arcParams;h=jf.box(l.cx,l.cy,l.rx,l.ry,l.xRotation,l.startAngle,l.endAngle);break;default:t.push(s[0]),n.push(s[1]);break}h&&(o.box=h,t.push(h.x,h.x+h.width),n.push(h.y,h.y+h.height)),r&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&a.push(o)}t=t.filter(function(x){return!Number.isNaN(x)}),n=n.filter(function(x){return!Number.isNaN(x)});var c=j(t),p=j(n),v=Z(t),g=Z(n);if(a.length===0)return{x:c,y:p,width:v-c,height:g-p};for(var i=0;i<a.length;i++){var o=a[i],s=o.currentPoint,m=void 0;s[0]===c?(m=_r(o,r),c=c-m.xExtra):s[0]===v&&(m=_r(o,r),v=v+m.xExtra),s[1]===p?(m=_r(o,r),p=p-m.yExtra):s[1]===g&&(m=_r(o,r),g=g+m.yExtra)}return{x:c,y:p,width:v-c,height:g-p}}function _r(e,r){var t=e.prePoint,n=e.currentPoint,a=e.nextPoint,i=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),o=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2),s=Math.pow(t[0]-a[0],2)+Math.pow(t[1]-a[1],2),u=Math.acos((i+o-s)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!u||Math.sin(u)===0||Kt(u,0))return{xExtra:0,yExtra:0};var f=Math.abs(Math.atan2(a[1]-n[1],a[0]-n[0])),h=Math.abs(Math.atan2(a[0]-n[0],a[1]-n[1]));f=f>Math.PI/2?Math.PI-f:f,h=h>Math.PI/2?Math.PI-h:h;var l={xExtra:Math.cos(u/2-f)*(r/2*(1/Math.sin(u/2)))-r/2||0,yExtra:Math.cos(h-u/2)*(r/2*(1/Math.sin(u/2)))-r/2||0};return l}function wh(e){var r=e.attr(),t=r.path,n=r.stroke,a=n?r.lineWidth:0,i=e.get("segments")||lo(t),o=Mh(i,a),s=o.x,u=o.y,f=o.width,h=o.height,l={minX:s,minY:u,maxX:s+f,maxY:u+h};return l=Dn(e,l),{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}function Ah(e){var r=e.attr(),t=r.x1,n=r.y1,a=r.x2,i=r.y2,o=Math.min(t,a),s=Math.max(t,a),u=Math.min(n,i),f=Math.max(n,i),h={minX:o,maxX:s,minY:u,maxY:f};return h=Dn(e,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function Ch(e){var r=e.attr(),t=r.x,n=r.y,a=r.rx,i=r.ry;return{x:t-a,y:n-i,width:a*2,height:i*2}}nt("rect",eo);nt("image",eo);nt("circle",no);nt("marker",no);nt("polyline",rh);nt("polygon",eh);nt("text",ih);nt("path",wh);nt("line",Ah);nt("ellipse",Ch);var Ua=0,bh=1/2,Sh=1/2,Ph=.05,me=function(){function e(r){var t=r.xField,n=r.yField,a=r.adjustNames,i=a===void 0?["x","y"]:a;this.adjustNames=i,this.xField=t,this.yField=n}return e.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},e.prototype.getAdjustRange=function(r,t,n){var a=this.yField,i=n.indexOf(t),o=n.length,s,u;return!a&&this.isAdjust("y")?(s=0,u=1):o>1?(s=n[i===0?0:i-1],u=n[i===o-1?o-1:i+1],i!==0?s+=(t-s)/2:s-=(u-t)/2,i!==o-1?u-=(u-t)/2:u+=(t-n[o-2])/2):(s=t===0?0:t-.5,u=t===0?1:t+.5),{pre:s,next:u}},e.prototype.adjustData=function(r,t){var n=this,a=this.getDimValues(t);A(r,function(i,o){A(a,function(s,u){n.adjustDim(u,s,i,o)})})},e.prototype.groupData=function(r,t){return A(r,function(n){n[t]===void 0&&(n[t]=Ua)}),gn(r,t)},e.prototype.adjustDim=function(r,t,n,a){},e.prototype.getDimValues=function(r){var t=this,n=t.xField,a=t.yField,i={},o=[];if(n&&this.isAdjust("x")&&o.push(n),a&&this.isAdjust("y")&&o.push(a),o.forEach(function(u){i[u]=xi(r,u).sort(function(f,h){return f-h})}),!a&&this.isAdjust("y")){var s="y";i[s]=[Ua,1]}return i},e}(),co={},kh=function(e){return co[e.toLowerCase()]},ye=function(e,r){if(kh(e))throw new Error("Adjust type '"+e+"' existed.");co[e.toLowerCase()]=r};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sn=function(e,r){return sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])},sn(e,r)};function xe(e,r){sn(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var tt=function(){return tt=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},tt.apply(this,arguments)},Th=function(e){xe(r,e);function r(t){var n=e.call(this,t)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var a=t.marginRatio,i=a===void 0?bh:a,o=t.dodgeRatio,s=o===void 0?Sh:o,u=t.dodgeBy,f=t.intervalPadding,h=t.dodgePadding,l=t.xDimensionLength,c=t.groupNum,p=t.defaultSize,v=t.maxColumnWidth,g=t.minColumnWidth,m=t.columnWidthRatio;return n.marginRatio=i,n.dodgeRatio=s,n.dodgeBy=u,n.intervalPadding=f,n.dodgePadding=h,n.xDimensionLegenth=l,n.groupNum=c,n.defaultSize=p,n.maxColumnWidth=v,n.minColumnWidth=g,n.columnWidthRatio=m,n}return r.prototype.process=function(t){var n=zr(t),a=Wr(n),i=this.dodgeBy,o=i?ms(a,i):n;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=a,this.adjustData(o,a),this.adjustDataArray=[],this.mergeData=[],n},r.prototype.adjustDim=function(t,n,a,i){var o=this,s=this.getDistribution(t),u=this.groupData(a,t);return A(u,function(f,h){var l;n.length===1?l={pre:n[0]-1,next:n[0]+1}:l=o.getAdjustRange(t,parseFloat(h),n),A(f,function(c){var p=c[t],v=s[p],g=v.indexOf(i);c[t]=o.getDodgeOffset(l,g,v.length)})}),[]},r.prototype.getDodgeOffset=function(t,n,a){var i=this,o=i.dodgeRatio,s=i.marginRatio,u=i.intervalPadding,f=i.dodgePadding,h=t.pre,l=t.next,c=l-h,p;if(!b(u)&&b(f)&&u>=0){var v=this.getIntervalOnlyOffset(a,n);p=h+v}else if(!b(f)&&b(u)&&f>=0){var v=this.getDodgeOnlyOffset(a,n);p=h+v}else if(!b(u)&&!b(f)&&u>=0&&f>=0){var v=this.getIntervalAndDodgeOffset(a,n);p=h+v}else{var g=c*o/a,m=s*g,v=1/2*(c-a*g-(a-1)*m)+((n+1)*g+n*m)-1/2*g-1/2*c;p=(h+l)/2+v}return p},r.prototype.getIntervalOnlyOffset=function(t,n){var a=this,i=a.defaultSize,o=a.intervalPadding,s=a.xDimensionLegenth,u=a.groupNum,f=a.dodgeRatio,h=a.maxColumnWidth,l=a.minColumnWidth,c=a.columnWidthRatio,p=o/s,v=(1-(u-1)*p)/u*f/(t-1),g=((1-p*(u-1))/u-v*(t-1))/t;if(g=b(c)?g:1/u/t*c,!b(h)){var m=h/s;g=Math.min(g,m)}if(!b(l)){var x=l/s;g=Math.max(g,x)}g=i?i/s:g,v=((1-(u-1)*p)/u-t*g)/(t-1);var M=((1/2+n)*g+n*v+1/2*p)*u-p/2;return M},r.prototype.getDodgeOnlyOffset=function(t,n){var a=this,i=a.defaultSize,o=a.dodgePadding,s=a.xDimensionLegenth,u=a.groupNum,f=a.marginRatio,h=a.maxColumnWidth,l=a.minColumnWidth,c=a.columnWidthRatio,p=o/s,v=1*f/(u-1),g=((1-v*(u-1))/u-p*(t-1))/t;if(g=c?1/u/t*c:g,!b(h)){var m=h/s;g=Math.min(g,m)}if(!b(l)){var x=l/s;g=Math.max(g,x)}g=i?i/s:g,v=(1-(g*t+p*(t-1))*u)/(u-1);var M=((1/2+n)*g+n*p+1/2*v)*u-v/2;return M},r.prototype.getIntervalAndDodgeOffset=function(t,n){var a=this,i=a.intervalPadding,o=a.dodgePadding,s=a.xDimensionLegenth,u=a.groupNum,f=i/s,h=o/s,l=((1-f*(u-1))/u-h*(t-1))/t,c=((1/2+n)*l+n*h+1/2*f)*u-f/2;return c},r.prototype.getDistribution=function(t){var n=this.adjustDataArray,a=this.cacheMap,i=a[t];return i||(i={},A(n,function(o,s){var u=xi(o,t);u.length||u.push(0),A(u,function(f){i[f]||(i[f]=[]),i[f].push(s)})}),a[t]=i),i},r}(me);function Dh(e,r){return(r-e)*Math.random()+e}var Ih=function(e){xe(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.process=function(t){var n=zr(t),a=Wr(n);return this.adjustData(n,a),n},r.prototype.adjustDim=function(t,n,a){var i=this,o=this.groupData(a,t);return A(o,function(s,u){return i.adjustGroup(s,t,parseFloat(u),n)})},r.prototype.getAdjustOffset=function(t){var n=t.pre,a=t.next,i=(a-n)*Ph;return Dh(n+i,a-i)},r.prototype.adjustGroup=function(t,n,a,i){var o=this,s=this.getAdjustRange(n,a,i);return A(t,function(u){u[n]=o.getAdjustOffset(s)}),t},r}(me),Be=Bs,Eh=function(e){xe(r,e);function r(t){var n=e.call(this,t)||this,a=t.adjustNames,i=a===void 0?["y"]:a,o=t.height,s=o===void 0?NaN:o,u=t.size,f=u===void 0?10:u,h=t.reverseOrder,l=h===void 0?!1:h;return n.adjustNames=i,n.height=s,n.size=f,n.reverseOrder=l,n}return r.prototype.process=function(t){var n=this,a=n.yField,i=n.reverseOrder,o=a?this.processStack(t):this.processOneDimStack(t);return i?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var n=this,a=n.xField,i=n.yField,o=n.reverseOrder,s=o?this.reverse(t):t,u=new Be,f=new Be;return s.map(function(h){return h.map(function(l){var c,p=$e(l,a,0),v=$e(l,[i]),g=p.toString();if(v=D(v)?v[1]:v,!b(v)){var m=v>=0?u:f;m.has(g)||m.set(g,0);var x=m.get(g),M=v+x;return m.set(g,M),tt(tt({},l),(c={},c[i]=[x,M],c))}return l})})},r.prototype.processOneDimStack=function(t){var n=this,a=this,i=a.xField,o=a.height,s=a.reverseOrder,u="y",f=s?this.reverse(t):t,h=new Be;return f.map(function(l){return l.map(function(c){var p,v=n.size,g=c[i],m=v*2/o;h.has(g)||h.set(g,m/2);var x=h.get(g);return h.set(g,x+m),tt(tt({},c),(p={},p[u]=x,p))})})},r}(me),Oh=function(e){xe(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.process=function(t){var n=Wr(t),a=this,i=a.xField,o=a.yField,s=this.getXValuesMaxMap(n),u=Math.max.apply(Math,Object.keys(s).map(function(f){return s[f]}));return Ft(t,function(f){return Ft(f,function(h){var l,c,p=h[o],v=h[i];if(D(p)){var g=(u-s[v])/2;return tt(tt({},h),(l={},l[o]=Ft(p,function(x){return g+x}),l))}var m=(u-p)/2;return tt(tt({},h),(c={},c[o]=[m,p+m],c))})})},r.prototype.getXValuesMaxMap=function(t){var n=this,a=this,i=a.xField,o=a.yField,s=gn(t,function(u){return u[i]});return Es(s,function(u){return n.getDimMaxValue(u,o)})},r.prototype.getDimMaxValue=function(t,n){var a=Ft(t,function(o){return $e(o,n,[])}),i=Wr(a);return Math.max.apply(Math,i)},r}(me);ye("Dodge",Th);ye("Jitter",Ih);ye("Stack",Eh);ye("Symmetric",Oh);var Za=function(e,r){return E(r)?r:e.invert(e.scale(r))},dr=function(){function e(r){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(r)}return e.prototype.mapping=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t.map(function(i,o){return r._toOriginParam(i,r.scales[o])});return this.callback.apply(this,a)},e.prototype.getLinearValue=function(r){var t=this.values.length-1,n=Math.floor(t*r),a=t*r-n,i=this.values[n],o=n===t?i:this.values[n+1];return i+(o-i)*a},e.prototype.getNames=function(){for(var r=this.scales,t=this.names,n=Math.min(r.length,t.length),a=[],i=0;i<n;i+=1)a.push(t[i]);return a},e.prototype.getFields=function(){return this.scales.map(function(r){return r.field})},e.prototype.getScale=function(r){return this.scales[this.names.indexOf(r)]},e.prototype.defaultCallback=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this.values:t.map(function(a,i){var o=r.scales[i];return o.type==="identity"?o.values[0]:r._getAttributeValue(o,a)})},e.prototype._parseCfg=function(r){var t=this,n=r.type,a=n===void 0?"base":n,i=r.names,o=i===void 0?[]:i,s=r.scales,u=s===void 0?[]:s,f=r.values,h=f===void 0?[]:f,l=r.callback;this.type=a,this.scales=u,this.values=h,this.names=o,this.callback=function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];if(l){var v=l.apply(void 0,c);if(!b(v))return[v]}return t.defaultCallback.apply(t,c)}},e.prototype._getAttributeValue=function(r,t){if(r.isCategory&&!this.linear){var n=r.translate(t);return this.values[n%this.values.length]}var a=r.scale(t);return this.getLinearValue(a)},e.prototype._toOriginParam=function(r,t){return t.isLinear?r:D(r)?r.map(function(n){return Za(t,n)}):Za(t,r)},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var un=function(e,r){return un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])},un(e,r)};function mr(e,r){un(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var _h=/rgba?\(([\s.,0-9]+)\)/,Bh=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Lh=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Yh=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Fh=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},Nh=function(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e},Le=function(e,r,t,n){return e[n]+(r[n]-e[n])*t};function vo(e){return"#"+Ye(e[0])+Ye(e[1])+Ye(e[2])}var po=function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]},Ye=function(e){var r=Math.round(e).toString(16);return r.length===1?"0"+r:r},Rh=function(e,r){var t=isNaN(Number(r))||r<0?0:r>1?1:Number(r),n=e.length-1,a=Math.floor(n*t),i=n*t-a,o=e[a],s=a===n?o:e[a+1];return vo([Le(o,s,i,0),Le(o,s,i,1),Le(o,s,i,2)])},Br,go=function(e){if(e[0]==="#"&&e.length===7)return e;Br||(Br=Nh()),Br.style.color=e;var r=document.defaultView.getComputedStyle(Br,"").getPropertyValue("color"),t=_h.exec(r),n=t[1].split(/\s*,\s*/).map(function(a){return Number(a)});return r=vo(n),r},Xh=function(e){var r=E(e)?e.split("-"):e,t=Ft(r,function(n){return po(n.indexOf("#")===-1?go(n):n)});return function(n){return Rh(t,n)}},Hh=function(e){if(Fh(e)){var r,t=void 0;if(e[0]==="l"){var n=Bh.exec(e),a=+n[1]+90;t=n[2],r="linear-gradient("+a+"deg, "}else if(e[0]==="r"){r="radial-gradient(";var n=Lh.exec(e);t=n[4]}var i=t.match(Yh);return A(i,function(o,s){var u=o.split(":");r+=u[1]+" "+u[0]*100+"%",s!==i.length-1&&(r+=", ")}),r+=")",r}return e},$h={rgb2arr:po,gradient:Xh,toRGB:Ai(go),toCSSGradient:Hh},Wh=function(e){mr(r,e);function r(t){var n=e.call(this,t)||this;return n.type="color",n.names=["color"],E(n.values)&&(n.linear=!0),n.gradient=$h.gradient(n.values),n}return r.prototype.getLinearValue=function(t){return this.gradient(t)},r}(dr),zh=function(e){mr(r,e);function r(t){var n=e.call(this,t)||this;return n.type="opacity",n.names=["opacity"],n}return r}(dr),Gh=function(e){mr(r,e);function r(t){var n=e.call(this,t)||this;return n.names=["x","y"],n.type="position",n}return r.prototype.mapping=function(t,n){var a=this.scales,i=a[0],o=a[1];return b(t)||b(n)?[]:[D(t)?t.map(function(s){return i.scale(s)}):i.scale(t),D(n)?n.map(function(s){return o.scale(s)}):o.scale(n)]},r}(dr),qh=function(e){mr(r,e);function r(t){var n=e.call(this,t)||this;return n.type="shape",n.names=["shape"],n}return r.prototype.getLinearValue=function(t){var n=Math.round((this.values.length-1)*t);return this.values[n]},r}(dr),Vh=function(e){mr(r,e);function r(t){var n=e.call(this,t)||this;return n.type="size",n.names=["size"],n}return r}(dr),mo={};function Uh(e){return mo[e]}function at(e,r){mo[e]=r}var In=function(){function e(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return e.prototype.translate=function(r){return r},e.prototype.change=function(r){or(this.__cfg__,r),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var r=this;return Ft(this.ticks,function(t,n){return rt(t)?t:{text:r.getText(t,n),tickValue:t,value:r.scale(t)}})},e.prototype.getText=function(r,t){var n=this.formatter,a=n?n(r,t):r;return b(a)||!R(a.toString)?"":a.toString()},e.prototype.getConfig=function(r){return this.__cfg__[r]},e.prototype.init=function(){or(this,this.__cfg__),this.setDomain(),Ds(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var r=this.tickMethod,t=[];if(E(r)){var n=Uh(r);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else R(r)&&(t=r(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(r,t,n){return $(r)?(r-t)/(n-t):NaN},e.prototype.calcValue=function(r,t,n){return t+r*(n-t)},e}(),En=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},r.prototype.translate=function(t){this.buildIndexMap();var n=this.translateIndexMap.get(t);return n===void 0&&(n=$(t)?t:NaN),n},r.prototype.scale=function(t){var n=this.translate(t),a=this.calcPercent(n,this.min,this.max);return this.calcValue(a,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(t){var n=this.max-this.min,a=this.calcPercent(t,this.rangeMin(),this.rangeMax()),i=Math.round(n*a)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},r.prototype.getText=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=t;return $(t)&&!this.values.includes(t)&&(i=this.values[i]),e.prototype.getText.apply(this,Xe([i],n,!1))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if(b(this.getConfig("min"))&&(this.min=0),b(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(In),yo=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,dt="[1-9]\\d?",gt="\\d\\d",Zh="\\d{3}",jh="\\d{4}",nr="[^\\s]+",xo=/\[([^]*?)\]/gm;function Mo(e,r){for(var t=[],n=0,a=e.length;n<a;n++)t.push(e[n].substr(0,r));return t}var ja=function(e){return function(r,t){var n=t[e].map(function(i){return i.toLowerCase()}),a=n.indexOf(r.toLowerCase());return a>-1?a:null}};function Ct(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0,a=r;n<a.length;n++){var i=a[n];for(var o in i)e[o]=i[o]}return e}var wo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ao=["January","February","March","April","May","June","July","August","September","October","November","December"],Qh=Mo(Ao,3),Jh=Mo(wo,3),On={dayNamesShort:Jh,dayNames:wo,monthNamesShort:Qh,monthNames:Ao,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},Jr=Ct({},On),Co=function(e){return Jr=Ct(Jr,e)},Qa=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},F=function(e,r){for(r===void 0&&(r=2),e=String(e);e.length<r;)e="0"+e;return e},Kh={D:function(e){return String(e.getDate())},DD:function(e){return F(e.getDate())},Do:function(e,r){return r.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return F(e.getDay())},ddd:function(e,r){return r.dayNamesShort[e.getDay()]},dddd:function(e,r){return r.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return F(e.getMonth()+1)},MMM:function(e,r){return r.monthNamesShort[e.getMonth()]},MMMM:function(e,r){return r.monthNames[e.getMonth()]},YY:function(e){return F(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return F(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return F(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return F(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return F(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return F(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return F(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return F(e.getMilliseconds(),3)},a:function(e,r){return e.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(e,r){return e.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+F(Math.floor(Math.abs(r)/60)*100+Math.abs(r)%60,4)},Z:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+F(Math.floor(Math.abs(r)/60),2)+":"+F(Math.abs(r)%60,2)}},Ja=function(e){return+e-1},Ka=[null,dt],ti=[null,nr],ri=["isPm",nr,function(e,r){var t=e.toLowerCase();return t===r.amPm[0]?0:t===r.amPm[1]?1:null}],ei=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var r=(e+"").match(/([+-]|\d\d)/gi);if(r){var t=+r[1]*60+parseInt(r[2],10);return r[0]==="+"?t:-t}return 0}],tl={D:["day",dt],DD:["day",gt],Do:["day",dt+nr,function(e){return parseInt(e,10)}],M:["month",dt,Ja],MM:["month",gt,Ja],YY:["year",gt,function(e){var r=new Date,t=+(""+r.getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",dt,void 0,"isPm"],hh:["hour",gt,void 0,"isPm"],H:["hour",dt],HH:["hour",gt],m:["minute",dt],mm:["minute",gt],s:["second",dt],ss:["second",gt],YYYY:["year",jh],S:["millisecond","\\d",function(e){return+e*100}],SS:["millisecond",gt,function(e){return+e*10}],SSS:["millisecond",Zh],d:Ka,dd:Ka,ddd:ti,dddd:ti,MMM:["month",nr,ja("monthNamesShort")],MMMM:["month",nr,ja("monthNames")],a:ri,A:ri,ZZ:ei,Z:ei},Kr={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},bo=function(e){return Ct(Kr,e)},So=function(e,r,t){if(r===void 0&&(r=Kr.default),t===void 0&&(t={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");r=Kr[r]||r;var n=[];r=r.replace(xo,function(i,o){return n.push(o),"@@@"});var a=Ct(Ct({},Jr),t);return r=r.replace(yo,function(i){return Kh[i](e,a)}),r.replace(/@@@/g,function(){return n.shift()})};function Po(e,r,t){if(t===void 0&&(t={}),typeof r!="string")throw new Error("Invalid format in fecha parse");if(r=Kr[r]||r,e.length>1e3)return null;var n=new Date,a={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],s=r.replace(xo,function(d,w){return o.push(Qa(w)),"@@@"}),u={},f={};s=Qa(s).replace(yo,function(d){var w=tl[d],S=w[0],C=w[1],I=w[3];if(u[S])throw new Error("Invalid format. "+S+" specified twice in format");return u[S]=!0,I&&(f[I]=!0),i.push(w),"("+C+")"}),Object.keys(f).forEach(function(d){if(!u[d])throw new Error("Invalid format. "+d+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var h=e.match(new RegExp(s,"i"));if(!h)return null;for(var l=Ct(Ct({},Jr),t),c=1;c<h.length;c++){var p=i[c-1],v=p[0],g=p[2],m=g?g(h[c],l):+h[c];if(m==null)return null;a[v]=m}a.isPm===1&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===0&&+a.hour==12&&(a.hour=0);for(var x=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond),M=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],c=0,y=M.length;c<y;c++)if(u[M[c][0]]&&a[M[c][0]]!==x[M[c][1]]())return null;return a.timezoneOffset==null?x:new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond))}var ko={format:So,parse:Po,defaultI18n:On,setGlobalDateI18n:Co,setGlobalDateMasks:bo},rl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ko,assign:Ct,format:So,parse:Po,defaultI18n:On,setGlobalDateI18n:Co,setGlobalDateMasks:bo});function el(e){return function(r,t,n,a){for(var i=b(n)?0:n,o=b(a)?r.length:a;i<o;){var s=i+o>>>1;e(r[s])>t?o=s:i=s+1}return i}}var ni="format";function To(e,r){var t=rl[ni]||ko[ni];return t(e,r)}function te(e){return E(e)&&(e.indexOf("T")>0?e=new Date(e).getTime():e=new Date(e.replace(/-/gi,"/")).getTime()),wi(e)&&(e=e.getTime()),e}var U=1e3,kt=60*U,Tt=60*kt,ft=24*Tt,ar=ft*31,ai=ft*365,Vt=[["HH:mm:ss",U],["HH:mm:ss",U*10],["HH:mm:ss",U*30],["HH:mm",kt],["HH:mm",kt*10],["HH:mm",kt*30],["HH",Tt],["HH",Tt*6],["HH",Tt*12],["YYYY-MM-DD",ft],["YYYY-MM-DD",ft*4],["YYYY-WW",ft*7],["YYYY-MM",ar],["YYYY-MM",ar*4],["YYYY-MM",ar*6],["YYYY",ft*380]];function nl(e,r,t){var n=(r-e)/t,a=el(function(o){return o[1]})(Vt,n)-1,i=Vt[a];return a<0?i=Vt[0]:a>=Vt.length&&(i=Q(Vt)),i}var al=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="timeCat",t}return r.prototype.translate=function(t){t=te(t);var n=this.values.indexOf(t);return n===-1&&($(t)&&t<this.values.length?n=t:n=NaN),n},r.prototype.getText=function(t,n){var a=this.translate(t);if(a>-1){var i=this.values[a],o=this.formatter;return i=o?o(i,n):To(i,this.mask),i}return t},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var t=this.values;A(t,function(n,a){t[a]=te(n)}),t.sort(function(n,a){return n-a}),e.prototype.setDomain.call(this)},r}(En),Me=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return r.prototype.scale=function(t){if(b(t))return NaN;var n=this.rangeMin(),a=this.rangeMax(),i=this.max,o=this.min;if(i===o)return n;var s=this.getScalePercent(t);return n+s*(a-n)},r.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=wt(t),a=Q(t);n<this.min&&(this.min=n),a>this.max&&(this.max=a),b(this.minLimit)||(this.min=n),b(this.maxLimit)||(this.max=a)},r.prototype.setDomain=function(){var t=cs(this.values),n=t.min,a=t.max;b(this.min)&&(this.min=n),b(this.max)&&(this.max=a),this.min>this.max&&(this.min=n,this.max=a)},r.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=$r(n,function(a){return a>=t.min&&a<=t.max})),n},r.prototype.getScalePercent=function(t){var n=this.max,a=this.min;return(t-a)/(n-a)},r.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(In),Do=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return r.prototype.invert=function(t){var n=this.getInvertPercent(t);return this.min+n*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(Me);function xt(e,r){var t=Math.E,n;return r>=0?n=Math.pow(t,Math.log(r)/e):n=Math.pow(t,Math.log(-r)/e)*-1,n}function z(e,r){return e===1?1:Math.log(r)/Math.log(e)}function Io(e,r,t){b(t)&&(t=Math.max.apply(null,e));var n=t;return A(e,function(a){a>0&&a<n&&(n=a)}),n===t&&(n=t/r),n>1&&(n=1),n}var il=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="log",t}return r.prototype.invert=function(t){var n=this.base,a=z(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,s,u=this.positiveMin;if(u){if(t===0)return 0;s=z(n,u/n);var f=1/(a-s)*o;if(t<f)return t/f*u}else s=z(n,this.min);var h=(t-i)/o,l=h*(a-s)+s;return Math.pow(n,l)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=Io(this.values,this.base,this.max))},r.prototype.getScalePercent=function(t){var n=this.max,a=this.min;if(n===a||t<=0)return 0;var i=this.base,o=this.positiveMin;o&&(a=o*1/i);var s;return t<o?s=t/o/(z(i,n)-z(i,a)):s=(z(i,t)-z(i,a))/(z(i,n)-z(i,a)),s},r}(Me),ol=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pow",t}return r.prototype.invert=function(t){var n=this.getInvertPercent(t),a=this.exponent,i=xt(a,this.max),o=xt(a,this.min),s=n*(i-o)+o,u=s>=0?1:-1;return Math.pow(s,a)*u},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(t){var n=this.max,a=this.min;if(n===a)return 0;var i=this.exponent,o=(xt(i,t)-xt(i,a))/(xt(i,n)-xt(i,a));return o},r}(Me),sl=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="time",t}return r.prototype.getText=function(t,n){var a=this.translate(t),i=this.formatter;return i?i(a,n):To(a,this.mask)},r.prototype.scale=function(t){var n=t;return(E(n)||wi(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},r.prototype.translate=function(t){return te(t)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var t=this.values,n=this.getConfig("min"),a=this.getConfig("max");if((!b(n)||!$(n))&&(this.min=this.translate(this.min)),(!b(a)||!$(a))&&(this.max=this.translate(this.max)),t&&t.length){var i=[],o=1/0,s=o,u=0;A(t,function(f){var h=te(f);if(isNaN(h))throw new TypeError("Invalid Time: "+f+" in time scale!");o>h?(s=o,o=h):s>h&&(s=h),u<h&&(u=h),i.push(h)}),t.length>1&&(this.minTickInterval=s-o),b(n)&&(this.min=o),b(a)&&(this.max=u)}},r}(Do),Eo=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="quantize",t}return r.prototype.invert=function(t){var n=this.ticks,a=n.length,i=this.getInvertPercent(t),o=Math.floor(i*(a-1));if(o>=a-1)return Q(n);if(o<0)return wt(n);var s=n[o],u=n[o+1],f=o/(a-1),h=(o+1)/(a-1);return s+(i-f)/(h-f)*(u-s)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||(Q(t)!==this.max&&t.push(this.max),wt(t)!==this.min&&t.unshift(this.min)),t},r.prototype.getScalePercent=function(t){var n=this.ticks;if(t<wt(n))return 0;if(t>Q(n))return 1;var a=0;return A(n,function(i,o){if(t>=i)a=o;else return!1}),a/(n.length-1)},r}(Me),ul=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="quantile",t}return r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(Eo),Oo={};function fl(e){return Oo[e]}function it(e,r){if(fl(e))throw new Error("type '"+e+"' existed.");Oo[e]=r}var hl=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(t){return this.values[0]!==t&&$(t)?t:this.range[0]},r.prototype.invert=function(t){var n=this.range;return t<n[0]||t>n[1]?NaN:this.values[0]},r}(In);function Yt(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var ll=[1,5,2,2.5,4,3],ii=Number.EPSILON*100;function cl(e,r){return(e%r+r)%r}function vl(e){return Math.round(e*1e12)/1e12}function pl(e,r,t,n,a,i){var o=Si(r),s=bi(r,e),u=0,f=cl(n,i);return(f<ii||i-f<ii)&&n<=0&&a>=0&&(u=1),1-s/(o-1)-t+u}function gl(e,r,t){var n=Si(r),a=bi(r,e),i=1;return 1-a/(n-1)-t+i}function dl(e,r,t,n,a,i){var o=(e-1)/(i-a),s=(r-1)/(Math.max(i,n)-Math.min(t,a));return 2-Math.max(o/s,s/o)}function ml(e,r){return e>=r?2-(e-1)/(r-1):1}function yl(e,r,t,n){var a=r-e;return 1-.5*(Math.pow(r-n,2)+Math.pow(e-t,2))/Math.pow(.1*a,2)}function xl(e,r,t){var n=r-e;if(t>n){var a=(t-n)/2;return 1-Math.pow(a,2)/Math.pow(.1*n,2)}return 1}function Ml(){return 1}function _o(e,r,t,n,a,i){t===void 0&&(t=5),n===void 0&&(n=!0),a===void 0&&(a=ll),i===void 0&&(i=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(e)||Number.isNaN(r)||typeof e!="number"||typeof r!="number"||!o)return{min:0,max:0,ticks:[]};if(r-e<1e-15||o===1)return{min:e,max:r,ticks:[e]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var f=0;f<a.length;f+=1){var h=a[f],l=gl(h,a,u);if(i[0]*l+i[1]+i[2]+i[3]<s.score){u=1/0;break}for(var c=2;c<1/0;){var p=ml(c,o);if(i[0]*l+i[1]+i[2]*p+i[3]<s.score)break;for(var v=(r-e)/(c+1)/u/h,g=Math.ceil(Math.log10(v));g<1/0;){var m=u*h*Math.pow(10,g),x=xl(e,r,m*(c-1));if(i[0]*l+i[1]*x+i[2]*p+i[3]<s.score)break;var M=Math.floor(r/m)*u-(c-1)*u,y=Math.ceil(e/m)*u;if(M<=y)for(var d=y-M,w=0;w<=d;w+=1){var S=M+w,C=S*(m/u),I=C+m*(c-1),O=m,Y=pl(h,a,u,C,I,O),L=yl(e,r,C,I),W=dl(c,o,e,r,C,I),ot=Ml(),_t=i[0]*Y+i[1]*L+i[2]*W+i[3]*ot;_t>s.score&&(!n||C<=e&&I>=r)&&(s.lmin=C,s.lmax=I,s.lstep=O,s.score=_t)}g+=1}c+=1}}u+=1}var Bt=Yt(s.lmax),st=Yt(s.lmin),ht=Yt(s.lstep),lt=Math.floor(vl((Bt-st)/ht))+1,V=new Array(lt);V[0]=Yt(st);for(var f=1;f<lt;f++)V[f]=Yt(V[f-1]+ht);return{min:Math.min(e,wt(V)),max:Math.max(r,Q(V)),ticks:V}}function Bo(e){var r=e.values,t=e.tickInterval,n=e.tickCount,a=r;if($(t))return $r(a,function(f,h){return h%t===0});var i=e.min,o=e.max;if(b(i)&&(i=0),b(o)&&(o=r.length-1),$(n)&&n<o-i){var s=_o(i,o,n,!1,[1,2,5,3,4,7,6,8,9]).ticks,u=$r(s,function(f){return f>=i&&f<=o});return u.map(function(f){return r[f]})}return r.slice(i,o+1)}function wl(e){var r=e.min,t=e.max,n=e.nice,a=e.tickCount,i=new Al;return i.domain([r,t]),n&&i.nice(a),i.ticks(a)}var Fe=5,oi=Math.sqrt(50),si=Math.sqrt(10),ui=Math.sqrt(2),Al=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},e.prototype.nice=function(r){var t,n;r===void 0&&(r=Fe);var a=this._domain.slice(),i=0,o=this._domain.length-1,s=this._domain[i],u=this._domain[o],f;return u<s&&(t=[u,s],s=t[0],u=t[1],n=[o,i],i=n[0],o=n[1]),f=Hr(s,u,r),f>0?(s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f,f=Hr(s,u,r)):f<0&&(s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f,f=Hr(s,u,r)),f>0?(a[i]=Math.floor(s/f)*f,a[o]=Math.ceil(u/f)*f,this.domain(a)):f<0&&(a[i]=Math.ceil(s*f)/f,a[o]=Math.floor(u*f)/f,this.domain(a)),this},e.prototype.ticks=function(r){return r===void 0&&(r=Fe),Cl(this._domain[0],this._domain[this._domain.length-1],r||Fe)},e}();function Cl(e,r,t){var n,a=-1,i,o,s;if(r=+r,e=+e,t=+t,e===r&&t>0)return[e];if((n=r<e)&&(i=e,e=r,r=i),(s=Hr(e,r,t))===0||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),r=Math.floor(r/s),o=new Array(i=Math.ceil(r-e+1));++a<i;)o[a]=(e+a)*s;else for(e=Math.floor(e*s),r=Math.ceil(r*s),o=new Array(i=Math.ceil(e-r+1));++a<i;)o[a]=(e-a)/s;return n&&o.reverse(),o}function Hr(e,r,t){var n=(r-e)/Math.max(0,t),a=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,a);return a>=0?(i>=oi?10:i>=si?5:i>=ui?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=oi?10:i>=si?5:i>=ui?2:1)}function fi(e,r,t){var n;return t==="ceil"?n=Math.ceil(e/r):t==="floor"?n=Math.floor(e/r):n=Math.round(e/r),n*r}function _n(e,r,t){var n=fi(e,t,"floor"),a=fi(r,t,"ceil");n=Ae(n,t),a=Ae(a,t);for(var i=[],o=n;o<=a;o=o+t){var s=Ae(o,t);i.push(s)}return{min:n,max:a,ticks:i}}function Bn(e,r,t){var n,a=e.minLimit,i=e.maxLimit,o=e.min,s=e.max,u=e.tickCount,f=u===void 0?5:u,h=b(a)?b(r)?o:r:a,l=b(i)?b(t)?s:t:i;if(h>l&&(n=[h,l],l=n[0],h=n[1]),f<=2)return[h,l];for(var c=(l-h)/(f-1),p=[],v=0;v<f;v++)p.push(h+c*v);return p}function bl(e){var r=e.min,t=e.max,n=e.tickInterval,a=e.minLimit,i=e.maxLimit,o=wl(e);return!b(a)||!b(i)?Bn(e,wt(o),Q(o)):n?_n(r,t,n).ticks:o}function Sl(e){var r=e.min,t=e.max,n=e.tickCount,a=e.nice,i=e.tickInterval,o=e.minLimit,s=e.maxLimit,u=_o(r,t,n,a).ticks;return!b(o)||!b(s)?Bn(e,wt(u),Q(u)):i?_n(r,t,i).ticks:u}function Pl(e){var r=e.base,t=e.tickCount,n=e.min,a=e.max,i=e.values,o,s=z(r,a);if(n>0)o=Math.floor(z(r,n));else{var u=Io(i,r,a);o=Math.floor(z(r,u))}for(var f=s-o,h=Math.ceil(f/t),l=[],c=o;c<s+h;c=c+h)l.push(Math.pow(r,c));return n<=0&&l.unshift(0),l}function Lo(e,r,t){if(t===void 0&&(t=5),e===r)return{max:r,min:e,ticks:[e]};var n=t<0?0:Math.round(t);if(n===0)return{max:r,min:e,ticks:[]};var a=1.5,i=.5+1.5*a,o=r-e,s=o/n,u=Math.pow(10,Math.floor(Math.log10(s))),f=u;2*u-s<a*(s-f)&&(f=2*u,5*u-s<i*(s-f)&&(f=5*u,10*u-s<a*(s-f)&&(f=10*u)));for(var h=Math.ceil(r/f),l=Math.floor(e/f),c=Math.max(h*f,r),p=Math.min(l*f,e),v=Math.floor((c-p)/f)+1,g=new Array(v),m=0;m<v;m++)g[m]=Yt(p+m*f);return{min:p,max:c,ticks:g}}function kl(e){var r=e.exponent,t=e.tickCount,n=Math.ceil(xt(r,e.max)),a=Math.floor(xt(r,e.min)),i=Lo(a,n,t).ticks;return i.map(function(o){var s=o>=0?1:-1;return Math.pow(o,r)*s})}function Tl(e,r){var t=e.length*r;return r===1?e[e.length-1]:r===0?e[0]:t%1!==0?e[Math.ceil(t)-1]:e.length%2===0?(e[t-1]+e[t])/2:e[t]}function Dl(e){var r=e.tickCount,t=e.values;if(!t||!t.length)return[];for(var n=t.slice().sort(function(s,u){return s-u}),a=[],i=0;i<r;i++){var o=i/(r-1);a.push(Tl(n,o))}return a}function Il(e){var r=e.min,t=e.max,n=e.tickCount,a=e.tickInterval,i=e.minLimit,o=e.maxLimit,s=Lo(r,t,n).ticks;return!b(i)||!b(o)?Bn(e,wt(s),Q(s)):a?_n(r,t,a).ticks:s}function El(e){var r=e.min,t=e.max,n=e.minTickInterval,a=e.tickInterval,i=e.tickCount;if(a)i=Math.ceil((t-r)/a);else{a=nl(r,t,i)[1];var o=(t-r)/a,s=o/i;s>1&&(a=a*Math.ceil(s)),n&&a<n&&(a=n)}for(var u=[],f=r;f<t+a;f+=a)u.push(f);return u}function Ol(e){var r=Bo(e),t=Q(e.values);return t!==Q(r)&&r.push(t),r}function re(e){return new Date(e).getFullYear()}function _l(e){return new Date(e,0,1).getTime()}function fn(e){return new Date(e).getMonth()}function Bl(e,r){var t=re(e),n=re(r),a=fn(e),i=fn(r);return(n-t)*12+(i-a)%12}function Ll(e,r){return new Date(e,r,1).getTime()}function Yl(e,r){return Math.ceil((r-e)/ft)}function Fl(e,r){return Math.ceil((r-e)/Tt)}function Nl(e,r){return Math.ceil((r-e)/(60*1e3))}function Rl(e){var r=e.min,t=e.max,n=e.minTickInterval,a=e.tickCount,i=e.tickInterval,o=[];i||(i=(t-r)/a,n&&i<n&&(i=n));var s=re(r);if(i>ai)for(var u=re(t),f=Math.ceil(i/ai),h=s;h<=u+f;h=h+f)o.push(_l(h));else if(i>ar)for(var l=Math.ceil(i/ar),c=fn(r),p=Bl(r,t),h=0;h<=p+l;h=h+l)o.push(Ll(s,h+c));else if(i>ft)for(var v=new Date(r),g=v.getFullYear(),m=v.getMonth(),x=v.getDate(),M=Math.ceil(i/ft),y=Yl(r,t),h=0;h<y+M;h=h+M)o.push(new Date(g,m,x+h).getTime());else if(i>Tt)for(var v=new Date(r),g=v.getFullYear(),m=v.getMonth(),M=v.getDate(),d=v.getHours(),w=Math.ceil(i/Tt),S=Fl(r,t),h=0;h<=S+w;h=h+w)o.push(new Date(g,m,M,d+h).getTime());else if(i>kt)for(var C=Nl(r,t),I=Math.ceil(i/kt),h=0;h<=C+I;h=h+I)o.push(r+h*kt);else{var O=i;O<U&&(O=U);for(var Y=Math.floor(r/U)*U,L=Math.ceil((t-r)/U),W=Math.ceil(O/U),h=0;h<L+W;h=h+W)o.push(Y+h*U)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+i+") is too small, increase the value to solve the problem!"),o}at("cat",Bo);at("time-cat",Ol);at("wilkinson-extended",Sl);at("r-pretty",Il);at("time",El);at("time-pretty",Rl);at("log",Pl);at("pow",kl);at("quantile",Dl);at("d3-linear",bl);it("cat",En);it("category",En);it("identity",hl);it("linear",Do);it("log",il);it("pow",ol);it("time",sl);it("timeCat",al);it("quantize",Eo);it("quantile",ul);var Yo={},Xl=function(e){return Yo[e.toLowerCase()]},yr=function(e,r){if(Xl(e))throw new Error("Attribute type '"+e+"' existed.");Yo[e.toLowerCase()]=r};yr("Color",Wh);yr("Opacity",zh);yr("Position",Gh);yr("Shape",qh);yr("Size",Vh);var Ln=function(){function e(r){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=r.start,n=r.end,a=r.matrix,i=a===void 0?[1,0,0,0,1,0,0,0,1]:a,o=r.isTransposed,s=o===void 0?!1:o;this.start=t,this.end=n,this.matrix=i,this.originalMatrix=Xe([],i),this.isTransposed=s}return e.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},e.prototype.update=function(r){or(this,r),this.initial()},e.prototype.convertDim=function(r,t){var n,a=this[t],i=a.start,o=a.end;return this.isReflect(t)&&(n=[o,i],i=n[0],o=n[1]),i+r*(o-i)},e.prototype.invertDim=function(r,t){var n,a=this[t],i=a.start,o=a.end;return this.isReflect(t)&&(n=[o,i],i=n[0],o=n[1]),(r-i)/(o-i)},e.prototype.applyMatrix=function(r,t,n){n===void 0&&(n=0);var a=this.matrix,i=[r,t,n];return Vr(i,i,a),i},e.prototype.invertMatrix=function(r,t,n){n===void 0&&(n=0);var a=this.matrix,i=pu([0,0,0,0,0,0,0,0,0],a),o=[r,t,n];return i&&Vr(o,o,i),o},e.prototype.convert=function(r){var t=this.convertPoint(r),n=t.x,a=t.y,i=this.applyMatrix(n,a,1);return{x:i[0],y:i[1]}},e.prototype.invert=function(r){var t=this.invertMatrix(r.x,r.y,1);return this.invertPoint({x:t[0],y:t[1]})},e.prototype.rotate=function(r){var t=this.matrix,n=this.center;return Lt(t,t,[-n.x,-n.y]),An(t,t,r),Lt(t,t,[n.x,n.y]),this},e.prototype.reflect=function(r){return r==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},e.prototype.scale=function(r,t){var n=this.matrix,a=this.center;return Lt(n,n,[-a.x,-a.y]),Yi(n,n,[r,t]),Lt(n,n,[a.x,a.y]),this},e.prototype.translate=function(r,t){var n=this.matrix;return Lt(n,n,[r,t]),this},e.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},e.prototype.getCenter=function(){return this.center},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRadius=function(){return this.radius},e.prototype.isReflect=function(r){return r==="x"?this.isReflectX:this.isReflectY},e.prototype.resetMatrix=function(r){this.matrix=r||Xe([],this.originalMatrix)},e}(),Fo=function(e){P(r,e);function r(t){var n=e.call(this,t)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return r.prototype.initial=function(){e.prototype.initial.call(this);var t=this.start,n=this.end;this.x={start:t.x,end:n.x},this.y={start:t.y,end:n.y}},r.prototype.convertPoint=function(t){var n,a=t.x,i=t.y;return this.isTransposed&&(n=[i,a],a=n[0],i=n[1]),{x:this.convertDim(a,"x"),y:this.convertDim(i,"y")}},r.prototype.invertPoint=function(t){var n,a=this.invertDim(t.x,"x"),i=this.invertDim(t.y,"y");return this.isTransposed&&(n=[i,a],a=n[0],i=n[1]),{x:a,y:i}},r}(Ln),Hl=function(e){P(r,e);function r(t){var n=e.call(this,t)||this;n.isHelix=!0,n.type="helix";var a=t.startAngle,i=a===void 0?1.25*Math.PI:a,o=t.endAngle,s=o===void 0?7.25*Math.PI:o,u=t.innerRadius,f=u===void 0?0:u,h=t.radius;return n.startAngle=i,n.endAngle=s,n.innerRadius=f,n.radius=h,n.initial(),n}return r.prototype.initial=function(){e.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},r.prototype.convertPoint=function(t){var n,a=t.x,i=t.y;this.isTransposed&&(n=[i,a],a=n[0],i=n[1]);var o=this.convertDim(a,"x"),s=this.a*o,u=this.convertDim(i,"y");return{x:this.center.x+Math.cos(o)*(s+u),y:this.center.y+Math.sin(o)*(s+u)}},r.prototype.invertPoint=function(t){var n,a=this.d+this.y.start,i=Li([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=Ni(i,[1,0],!0),s=o*this.a;Zt(i)<s&&(s=Zt(i));var u=Math.floor((Zt(i)-s)/a);o=2*u*Math.PI+o;var f=this.a*o,h=Zt(i)-f;h=Kt(h,0)?0:h;var l=this.invertDim(o,"x"),c=this.invertDim(h,"y");return l=Kt(l,0)?0:l,c=Kt(c,0)?0:c,this.isTransposed&&(n=[c,l],l=n[0],c=n[1]),{x:l,y:c}},r}(Ln),$l=function(e){P(r,e);function r(t){var n=e.call(this,t)||this;n.isPolar=!0,n.type="polar";var a=t.startAngle,i=a===void 0?-Math.PI/2:a,o=t.endAngle,s=o===void 0?Math.PI*3/2:o,u=t.innerRadius,f=u===void 0?0:u,h=t.radius;return n.startAngle=i,n.endAngle=s,n.innerRadius=f,n.radius=h,n.initial(),n}return r.prototype.initial=function(){for(e.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),n=t.maxX-t.minX,a=t.maxY-t.minY,i=Math.abs(t.minX)/n,o=Math.abs(t.minY)/a,s;this.height/a>this.width/n?(s=this.width/n,this.circleCenter={x:this.center.x-(.5-i)*this.width,y:this.center.y-(.5-o)*s*a}):(s=this.height/a,this.circleCenter={x:this.center.x-(.5-i)*s*n,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},r.prototype.getRadius=function(){return this.polarRadius},r.prototype.convertPoint=function(t){var n,a=this.getCenter(),i=t.x,o=t.y;return this.isTransposed&&(n=[o,i],i=n[0],o=n[1]),i=this.convertDim(i,"x"),o=this.convertDim(o,"y"),{x:a.x+Math.cos(i)*o,y:a.y+Math.sin(i)*o}},r.prototype.invertPoint=function(t){var n,a=this.getCenter(),i=[t.x-a.x,t.y-a.y],o=this,s=o.startAngle,u=o.endAngle;this.isReflect("x")&&(n=[u,s],s=n[0],u=n[1]);var f=[1,0,0,0,1,0,0,0,1];An(f,f,s);var h=[1,0,0];Vr(h,h,f);var l=[h[0],h[1]],c=Ni(l,i,u<s);Kt(c,Math.PI*2)&&(c=0);var p=Zt(i),v=c/(u-s);v=u-s>0?v:-v;var g=this.invertDim(p,"y"),m={x:0,y:0};return m.x=this.isTransposed?g:v,m.y=this.isTransposed?v:g,m},r.prototype.getCenter=function(){return this.circleCenter},r.prototype.getOneBox=function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var a=[0,Math.cos(t),Math.cos(n)],i=[0,Math.sin(t),Math.sin(n)],o=Math.min(t,n);o<Math.max(t,n);o+=Math.PI/18)a.push(Math.cos(o)),i.push(Math.sin(o));return{minX:Math.min.apply(Math,a),maxX:Math.max.apply(Math,a),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}},r}(Ln),No={},op=function(e){return No[e.toLowerCase()]},we=function(e,r){No[e.toLowerCase()]=r};we("rect",Fo);we("cartesian",Fo);we("polar",$l);we("helix",Hl);function Wl(){return window?window.devicePixelRatio:1}function Ro(e,r,t,n){var a=e-t,i=r-n;return Math.sqrt(a*a+i*i)}function Pt(e,r,t,n,a,i){return a>=e&&a<=e+t&&i>=r&&i<=r+n}function vr(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function zl(e,r){return!e||!r?e||r:{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}function hi(e,r){return e[0]===r[0]&&e[1]===r[1]}var Gl=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ql=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Vl=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Xo=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Ho(e,r){var t=e.match(Xo);A(t,function(n){var a=n.split(":");r.addColorStop(a[0],a[1])})}function Ul(e,r,t){var n=Gl.exec(t),a=parseFloat(n[1])%360*(Math.PI/180),i=n[2],o=r.getBBox(),s,u;a>=0&&a<1/2*Math.PI?(s={x:o.minX,y:o.minY},u={x:o.maxX,y:o.maxY}):1/2*Math.PI<=a&&a<Math.PI?(s={x:o.maxX,y:o.minY},u={x:o.minX,y:o.maxY}):Math.PI<=a&&a<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},u={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},u={x:o.maxX,y:o.minY});var f=Math.tan(a),h=f*f,l=(u.x-s.x+f*(u.y-s.y))/(h+1)+s.x,c=f*(u.x-s.x+f*(u.y-s.y))/(h+1)+s.y,p=e.createLinearGradient(s.x,s.y,l,c);return Ho(i,p),p}function Zl(e,r,t){var n=ql.exec(t),a=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];if(o===0){var u=s.match(Xo);return u[u.length-1].split(":")[1]}var f=r.getBBox(),h=f.maxX-f.minX,l=f.maxY-f.minY,c=Math.sqrt(h*h+l*l)/2,p=e.createRadialGradient(f.minX+h*a,f.minY+l*i,0,f.minX+h/2,f.minY+l/2,o*c);return Ho(s,p),p}function jl(e,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var n,a,i=Vl.exec(t),o=i[1],s=i[2];function u(){n=e.createPattern(a,o),r.set("pattern",n),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return a=new Image,s.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=s,a.complete?u():(a.onload=u,a.src=a.src),n}function Ql(e,r,t){var n=r.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if(E(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Ul(e,r,t);if(t[0]==="r")return Zl(e,r,t);if(t[0]==="p")return jl(e,r,t)}return t}if(t instanceof CanvasPattern)return t}function Jl(e){var r=0,t=0,n=0,a=0;return D(e)?e.length===1?r=t=n=a=e[0]:e.length===2?(r=n=e[0],t=a=e[1]):e.length===3?(r=e[0],t=a=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],a=e[3]):r=t=n=a=e,[r,t,n,a]}function Lr(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function hn(e,r){return Lr(e)*Lr(r)?(e[0]*r[0]+e[1]*r[1])/(Lr(e)*Lr(r)):1}function li(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(hn(e,r))}function ln(e,r){var t=r[1],n=r[2],a=dn(mn(r[3]),Math.PI*2),i=r[4],o=r[5],s=e[0],u=e[1],f=r[6],h=r[7],l=Math.cos(a)*(s-f)/2+Math.sin(a)*(u-h)/2,c=-1*Math.sin(a)*(s-f)/2+Math.cos(a)*(u-h)/2,p=l*l/(t*t)+c*c/(n*n);p>1&&(t*=Math.sqrt(p),n*=Math.sqrt(p));var v=t*t*(c*c)+n*n*(l*l),g=v?Math.sqrt((t*t*(n*n)-v)/v):1;i===o&&(g*=-1),isNaN(g)&&(g=0);var m=n?g*t*c/n:0,x=t?g*-n*l/t:0,M=(s+f)/2+Math.cos(a)*m-Math.sin(a)*x,y=(u+h)/2+Math.sin(a)*m+Math.cos(a)*x,d=[(l-m)/t,(c-x)/n],w=[(-1*l-m)/t,(-1*c-x)/n],S=li([1,0],d),C=li(d,w);return hn(d,w)<=-1&&(C=Math.PI),hn(d,w)>=1&&(C=0),o===0&&C>0&&(C=C-2*Math.PI),o===1&&C<0&&(C=C+2*Math.PI),{cx:M,cy:y,rx:hi(e,[f,h])?0:t,ry:hi(e,[f,h])?0:n,startAngle:S,endAngle:S+C,xRotation:a,arcFlag:i,sweepFlag:o}}var ee=Math.sin,ne=Math.cos,Yn=Math.atan2,Yr=Math.PI;function $o(e,r,t,n,a,i,o){var s=r.stroke,u=r.lineWidth,f=t-a,h=n-i,l=Yn(h,f),c=new Hn({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ne(Yr/6)+","+10*ee(Yr/6)+" L0,0 L"+10*ne(Yr/6)+",-"+10*ee(Yr/6),stroke:s,lineWidth:u}});c.translate(a,i),c.rotateAtPoint(a,i,l),e.set(o?"startArrowShape":"endArrowShape",c)}function Wo(e,r,t,n,a,i,o){var s=r.startArrow,u=r.endArrow,f=r.stroke,h=r.lineWidth,l=o?s:u,c=l.d,p=l.fill,v=l.stroke,g=l.lineWidth,m=os(l,["d","fill","stroke","lineWidth"]),x=t-a,M=n-i,y=Yn(M,x);c&&(a=a-ne(y)*c,i=i-ee(y)*c);var d=new Hn({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:k(k({},m),{stroke:v||f,lineWidth:g||h,fill:p})});d.translate(a,i),d.rotateAtPoint(a,i,y),e.set(o?"startArrowShape":"endArrowShape",d)}function Dt(e,r,t,n,a){var i=Yn(n-r,t-e);return{dx:ne(i)*a,dy:ee(i)*a}}function Fn(e,r,t,n,a,i){typeof r.startArrow=="object"?Wo(e,r,t,n,a,i,!0):r.startArrow?$o(e,r,t,n,a,i,!0):e.set("startArrowShape",null)}function Nn(e,r,t,n,a,i){typeof r.endArrow=="object"?Wo(e,r,t,n,a,i,!1):r.endArrow?$o(e,r,t,n,a,i,!1):e.set("startArrowShape",null)}var ci={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function $t(e,r){var t=r.attr();for(var n in t){var a=t[n],i=ci[n]?ci[n]:n;i==="matrix"&&a?e.transform(a[0],a[1],a[3],a[4],a[6],a[7]):i==="lineDash"&&e.setLineDash?D(a)&&e.setLineDash(a):(i==="strokeStyle"||i==="fillStyle"?a=Ql(e,r,a):i==="globalAlpha"&&(a=a*e.globalAlpha),e[i]=a)}}function cn(e,r,t){for(var n=0;n<r.length;n++){var a=r[n];a.cfg.visible?a.draw(e,t):a.skipDraw()}}function Kl(e,r,t){var n=e.get("refreshElements");A(n,function(a){if(a!==e)for(var i=a.cfg.parent;i&&i!==e&&!i.cfg.refresh;)i.cfg.refresh=!0,i=i.cfg.parent}),n[0]===e?Rn(r):vn(r,t)}function vn(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&Rn(n.cfg.children);else if(n.cfg.refresh)n.isGroup()&&vn(n.cfg.children,r);else{var a=tc(n,r);n.cfg.refresh=a,a&&n.isGroup()&&vn(n.cfg.children,r)}}}function zo(e){for(var r=0;r<e.length;r++){var t=e[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&zo(t.cfg.children)}}function Rn(e,r){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.refresh=!0,n.isGroup()&&Rn(n.get("children"))}}function tc(e,r){var t=e.cfg.cacheCanvasBBox,n=e.cfg.isInView&&t&&vr(t,r);return n}function Go(e,r,t,n){var a=t.path,i=t.startArrow,o=t.endArrow;if(!!a){var s=[0,0],u=[0,0],f={dx:0,dy:0};r.beginPath();for(var h=0;h<a.length;h++){var l=a[h],c=l[0];if(h===0&&i&&i.d){var p=e.getStartTangent();f=Dt(p[0][0],p[0][1],p[1][0],p[1][1],i.d)}else if(h===a.length-2&&a[h+1][0]==="Z"&&o&&o.d){var v=a[h+1];if(v[0]==="Z"){var p=e.getEndTangent();f=Dt(p[0][0],p[0][1],p[1][0],p[1][1],o.d)}}else if(h===a.length-1&&o&&o.d&&a[0]!=="Z"){var p=e.getEndTangent();f=Dt(p[0][0],p[0][1],p[1][0],p[1][1],o.d)}var g=f.dx,m=f.dy;switch(c){case"M":r.moveTo(l[1]-g,l[2]-m),u=[l[1],l[2]];break;case"L":r.lineTo(l[1]-g,l[2]-m);break;case"Q":r.quadraticCurveTo(l[1],l[2],l[3]-g,l[4]-m);break;case"C":r.bezierCurveTo(l[1],l[2],l[3],l[4],l[5]-g,l[6]-m);break;case"A":{var x=void 0;n?(x=n[h],x||(x=ln(s,l),n[h]=x)):x=ln(s,l);var M=x.cx,y=x.cy,d=x.rx,w=x.ry,S=x.startAngle,C=x.endAngle,I=x.xRotation,O=x.sweepFlag;if(r.ellipse)r.ellipse(M,y,d,w,I,S,C,1-O);else{var Y=d>w?d:w,L=d>w?1:d/w,W=d>w?w/d:1;r.translate(M,y),r.rotate(I),r.scale(L,W),r.arc(0,0,Y,S,C,1-O),r.scale(1/L,1/W),r.rotate(-I),r.translate(-M,-y)}break}case"Z":r.closePath();break}if(c==="Z")s=u;else{var ot=l.length;s=[l[ot-2],l[ot-1]]}}}}function qo(e,r){var t=e.get("canvas");t&&(r==="remove"&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(t.refreshElement(e,r,t),t.get("autoDraw")&&t.draw())))}function rc(e){var r;if(e.destroyed)r=e._cacheCanvasBBox;else{var t=e.get("cacheCanvasBBox"),n=t&&!!(t.width&&t.height),a=e.getCanvasBBox(),i=a&&!!(a.width&&a.height);n&&i?r=zl(t,a):n?r=t:i&&(r=a)}return r}function ec(e){if(!e.length)return null;var r=[],t=[],n=[],a=[];return A(e,function(i){var o=rc(i);o&&(r.push(o.minX),t.push(o.minY),n.push(o.maxX),a.push(o.maxY))}),{minX:j(r),minY:j(t),maxX:Z(n),maxY:Z(a)}}function nc(e,r){return!e||!r||!vr(e,r)?null:{minX:Math.max(e.minX,r.minX),minY:Math.max(e.minY,r.minY),maxX:Math.min(e.maxX,r.maxX),maxY:Math.min(e.maxY,r.maxY)}}var Xn=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){qo(this,t)},r.prototype.getShapeBase=function(){return ae},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,n){n&&(t.save(),$t(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],a=[];A(t,function(c){var p=c.cfg.cacheCanvasBBox;p&&c.cfg.isInView&&(n.push(p.minX,p.maxX),a.push(p.minY,p.maxY))});var i=null;if(n.length){var o=j(n),s=Z(n),u=j(a),f=Z(a);i={minX:o,minY:u,x:o,y:u,maxX:s,maxY:f,width:s-o,height:f-u};var h=this.cfg.canvas;if(h){var l=h.getViewRange();this.set("isInView",vr(i,l))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",i)},r.prototype.draw=function(t,n){var a=this.cfg.children,i=n?this.cfg.refresh:!0;a.length&&i&&(t.save(),$t(t,this),this._applyClip(t,this.getClip()),cn(t,a,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(he),ac=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return ae},r.prototype.getGroupBase=function(){return Xn},r.prototype.onCanvasChange=function(t){qo(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),a=ce(t),i=a(this),o=n/2,s=i.x-o,u=i.y-o,f=i.x+i.width+o,h=i.y+i.height+o;return{x:s,minX:s,y:u,minY:u,width:i.width+n,height:i.height+n,maxX:f,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,n){n&&(t.save(),$t(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.draw=function(t,n){var a=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var i=this.getCanvasBBox();if(!vr(n,i)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),$t(t,this),this._applyClip(t,a),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),a=vr(n,t);this.set("isInView",a),a?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isFill()&&(!b(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=i):this.fill(t)),this.isStroke()&&a>0&&(!b(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,n){var a=this.isStroke(),i=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,a,i,o)},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(le),J=ac,ic=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.attr(),u=s.x,f=s.y,h=s.r,l=o/2,c=Ro(u,f,t,n);return i&&a?c<=h+l:i?c<=h:a?c>=h-l&&c<=h+l:!1},r.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.r;t.beginPath(),t.arc(a,i,o,0,Math.PI*2,!1),t.closePath()},r}(J),oc=ic;function Fr(e,r,t,n){return e/(t*t)+r/(n*n)}var sc=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.attr(),u=o/2,f=s.x,h=s.y,l=s.rx,c=s.ry,p=(t-f)*(t-f),v=(n-h)*(n-h);return i&&a?Fr(p,v,l+u,c+u)<=1:i?Fr(p,v,l,c)<=1:a?Fr(p,v,l-u,c-u)>=1&&Fr(p,v,l+u,c+u)<=1:!1},r.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.rx,s=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(a,i,o,s,0,0,Math.PI*2,!1);else{var u=o>s?o:s,f=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(a,i),t.scale(f,h),t.arc(0,0,u,0,Math.PI*2),t.restore(),t.closePath()}},r}(J),uc=sc;function vi(e){return e instanceof HTMLElement&&E(e.nodeName)&&e.nodeName.toUpperCase()==="CANVAS"}var fc=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var n=this,a=this.attrs;if(E(t)){var i=new Image;i.onload=function(){if(n.destroyed)return!1;n.attr("img",i),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},i.crossOrigin="Anonymous",i.src=t,this.set("loading",!0)}else t instanceof Image?(a.width||(a.width=t.width),a.height||(a.height=t.height)):vi(t)&&(a.width||(a.width=Number(t.getAttribute("width"))),a.height||(a.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),t==="img"&&this._setImage(n)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var n=this.attr(),a=n.x,i=n.y,o=n.width,s=n.height,u=n.sx,f=n.sy,h=n.swidth,l=n.sheight,c=n.img;(c instanceof Image||vi(c))&&(!b(u)&&!b(f)&&!b(h)&&!b(l)?t.drawImage(c,u,f,h,l,a,i,o,s):t.drawImage(c,a,i,o,s))},r}(J),hc=fc;function Mt(e,r,t,n,a,i,o){var s=Math.min(e,t),u=Math.max(e,t),f=Math.min(r,n),h=Math.max(r,n),l=a/2;return i>=s-l&&i<=u+l&&o>=f-l&&o<=h+l?_.pointToLine(e,r,t,n,i,o)<=a/2:!1}var lc=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.startArrow,u=t.endArrow;s&&Fn(this,t,i,o,n,a),u&&Nn(this,t,n,a,i,o)},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){if(!a||!o)return!1;var s=this.attr(),u=s.x1,f=s.y1,h=s.x2,l=s.y2;return Mt(u,f,h,l,o,t,n)},r.prototype.createPath=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,s=n.y2,u=n.startArrow,f=n.endArrow,h={dx:0,dy:0},l={dx:0,dy:0};u&&u.d&&(h=Dt(a,i,o,s,n.startArrow.d)),f&&f.d&&(l=Dt(a,i,o,s,n.endArrow.d)),t.beginPath(),t.moveTo(a+h.dx,i+h.dy),t.lineTo(o-l.dx,s-l.dy)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2;return _.length(n,a,i,o)},r.prototype.getPoint=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,s=n.y2;return _.pointAt(a,i,o,s,t)},r}(J),cc=lc,vc={circle:function(e,r,t){return[["M",e-t,r],["A",t,t,0,1,0,e+t,r],["A",t,t,0,1,0,e-t,r]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["Z"]]},"triangle-down":function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},pc=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return b(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),n=t.x,a=t.y,i=t.symbol||"circle",o=this._getR(t),s,u;if(R(i))s=i,u=s(n,a,o),u=ho(u);else{if(s=r.Symbols[i],!s)return console.warn(i+" marker is not supported."),null;u=s(n,a,o)}return u},r.prototype.createPath=function(t){var n=this._getPath(),a=this.get("paramsCache");Go(this,t,{path:n},a)},r.Symbols=vc,r}(J),gc=pc;function Vo(e,r,t){var n=pe();return e.createPath(n),n.isPointInPath(r,t)}var dc=1e-6;function Ne(e){return Math.abs(e)<dc?0:e<0?-1:1}function mc(e,r,t){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function Uo(e,r,t){var n=!1,a=e.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=e[i],s=e[(i+1)%a];if(mc(o,s,[r,t]))return!0;Ne(o[1]-t)>0!=Ne(s[1]-t)>0&&Ne(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function Jt(e,r,t,n,a,i,o,s){var u=(Math.atan2(s-r,o-e)+Math.PI*2)%(Math.PI*2);if(u<n||u>a)return!1;var f={x:e+t*Math.cos(u),y:r+t*Math.sin(u)};return Ro(f.x,f.y,o,s)<=i/2}var yc=Fi;function xc(e){for(var r=!1,t=e.length,n=0;n<t;n++){var a=e[n],i=a[0];if(i==="C"||i==="A"||i==="Q"){r=!0;break}}return r}function Mc(e,r,t,n,a){for(var i=!1,o=r/2,s=0;s<e.length;s++){var u=e[s],f=u.currentPoint,h=u.params,l=u.prePoint,c=u.box;if(!(c&&!Pt(c.x-o,c.y-o,c.width+r,c.height+r,t,n))){switch(u.command){case"L":case"Z":i=Mt(l[0],l[1],f[0],f[1],r,t,n);break;case"Q":var p=oo.pointDistance(l[0],l[1],h[1],h[2],h[3],h[4],t,n);i=p<=r/2;break;case"C":var v=rr.pointDistance(l[0],l[1],h[1],h[2],h[3],h[4],h[5],h[6],t,n,a);i=v<=r/2;break;case"A":var g=u.arcParams,m=g.cx,x=g.cy,M=g.rx,y=g.ry,d=g.startAngle,w=g.endAngle,S=g.xRotation,C=[t,n,1],I=M>y?M:y,O=M>y?1:M/y,Y=M>y?y/M:1,L=yc(null,[["t",-m,-x],["r",-S],["s",1/O,1/Y]]);Vr(C,C,L),i=Jt(0,0,I,d,w,r,C[0],C[1]);break}if(i)break}}return i}function wc(e){for(var r=e.length,t=[],n=[],a=[],i=0;i<r;i++){var o=e[i],s=o[0];s==="M"?(a.length&&(n.push(a),a=[]),a.push([o[1],o[2]])):s==="Z"?a.length&&(t.push(a),a=[]):a.push([o[1],o[2]])}return a.length>0&&n.push(a),{polygons:t,polylines:n}}var Nr=k({hasArc:xc,extractPolygons:wc,isPointInStroke:Mc},xn);function pi(e,r,t){for(var n=!1,a=0;a<e.length;a++){var i=e[a];if(n=Uo(i,r,t),n)break}return n}var Ac=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),t==="path"&&this._setPathArr(n),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=ho(t);var n=Nr.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=lo(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),n=t.startArrow,a=t.endArrow;if(n){var i=this.getStartTangent();Fn(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}if(a){var i=this.getEndTangent();Nn(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.getSegments(),u=this.get("hasArc"),f=!1;if(a){var h=this.getTotalLength();f=Nr.isPointInStroke(s,o,t,n,h)}if(!f&&i)if(u)f=Vo(this,t,n);else{var l=this.attr("path"),c=Nr.extractPolygons(l);f=pi(c.polygons,t,n)||pi(c.polylines,t,n)}return f},r.prototype.createPath=function(t){var n=this.attr(),a=this.get("paramsCache");Go(this,t,n,a)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return b(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var a,i,o=this.get("curve");if(!n||n.length===0)return o?{x:o[0][1],y:o[0][2]}:null;A(n,function(h,l){t>=h[0]&&t<=h[1]&&(a=(t-h[0])/(h[1]-h[0]),i=l)});var s=o[i];if(b(s)||b(i))return null;var u=s.length,f=o[i+1];return rr.pointAt(s[u-2],s[u-1],f[1],f[2],f[3],f[4],f[5],f[6],a)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Nr.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,n=0,a=[],i,o,s,u,f=this.get("curve");if(!!f){if(A(f,function(h,l){s=f[l+1],u=h.length,s&&(t+=rr.length(h[u-2],h[u-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}A(f,function(h,l){s=f[l+1],u=h.length,s&&(i=[],i[0]=n/t,o=rr.length(h[u-2],h[u-1],s[1],s[2],s[3],s[4],s[5],s[6]),n+=o||0,i[1]=n/t,a.push(i))}),this.set("tCache",a)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),n;if(t.length>1){var a=t[0].currentPoint,i=t[1].currentPoint,o=t[1].startTangent;n=[],o?(n.push([a[0]-o[0],a[1]-o[1]]),n.push([a[0],a[1]])):(n.push([i[0],i[1]]),n.push([a[0],a[1]]))}return n},r.prototype.getEndTangent=function(){var t=this.getSegments(),n=t.length,a;if(n>1){var i=t[n-2].currentPoint,o=t[n-1].currentPoint,s=t[n-1].endTangent;a=[],s?(a.push([o[0]-s[0],o[1]-s[1]]),a.push([o[0],o[1]])):(a.push([i[0],i[1]]),a.push([o[0],o[1]]))}return a},r}(J),Hn=Ac;function Zo(e,r,t,n,a){var i=e.length;if(i<2)return!1;for(var o=0;o<i-1;o++){var s=e[o][0],u=e[o][1],f=e[o+1][0],h=e[o+1][1];if(Mt(s,u,f,h,r,t,n))return!0}if(a){var l=e[0],c=e[i-1];if(Mt(l[0],l[1],c[0],c[1],r,t,n))return!0}return!1}var Cc=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.attr().points,u=!1;return a&&(u=Zo(s,o,t,n,!0)),!u&&i&&(u=Uo(s,t,n)),u},r.prototype.createPath=function(t){var n=this.attr(),a=n.points;if(!(a.length<2)){t.beginPath();for(var i=0;i<a.length;i++){var o=a[i];i===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(J),bc=Cc,Sc=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,a=n.points,i=n.startArrow,o=n.endArrow,s=a.length,u=a[0][0],f=a[0][1],h=a[s-1][0],l=a[s-1][1];i&&Fn(this,t,a[1][0],a[1][1],u,f),o&&Nn(this,t,a[s-2][0],a[s-2][1],h,l)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){if(!a||!o)return!1;var s=this.attr().points;return Zo(s,o,t,n,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var n=this.attr(),a=n.points,i=n.startArrow,o=n.endArrow,s=a.length;if(!(a.length<2)){var u=a[0][0],f=a[0][1],h=a[s-1][0],l=a[s-1][1];if(i&&i.d){var c=Dt(u,f,a[1][0],a[1][1],i.d);u+=c.dx,f+=c.dy}if(o&&o.d){var c=Dt(a[s-2][0],a[s-2][1],h,l,o.d);h-=c.dx,l-=c.dy}t.beginPath(),t.moveTo(u,f);for(var p=0;p<s-1;p++){var v=a[p];t.lineTo(v[0],v[1])}t.lineTo(h,l)}},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return b(n)?(this.set("totalLength",fo.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return A(a,function(s,u){t>=s[0]&&t<=s[1]&&(i=(t-s[0])/(s[1]-s[0]),o=u)}),_.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,s;A(t,function(u,f){t[f+1]&&(o=[],o[0]=a/n,s=_.length(u[0],u[1],t[f+1][0],t[f+1][1]),a+=s,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,a=[];return a.push([t[n-1][0],t[n-1][1]]),a.push([t[n][0],t[n][1]]),a},r}(J),Pc=Sc;function kc(e,r,t,n,a,i,o){var s=a/2;return Pt(e-s,r-s,t,a,i,o)||Pt(e+t-s,r-s,a,n,i,o)||Pt(e+s,r+n-s,t,a,i,o)||Pt(e-s,r+s,a,n,i,o)}function Tc(e,r,t,n,a,i,o,s){return Mt(e+a,r,e+t-a,r,i,o,s)||Mt(e+t,r+a,e+t,r+n-a,i,o,s)||Mt(e+t-a,r+n,e+a,r+n,i,o,s)||Mt(e,r+n-a,e,r+a,i,o,s)||Jt(e+t-a,r+a,a,1.5*Math.PI,2*Math.PI,i,o,s)||Jt(e+t-a,r+n-a,a,0,.5*Math.PI,i,o,s)||Jt(e+a,r+n-a,a,.5*Math.PI,Math.PI,i,o,s)||Jt(e+a,r+a,a,Math.PI,1.5*Math.PI,i,o,s)}var Dc=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var s=this.attr(),u=s.x,f=s.y,h=s.width,l=s.height,c=s.radius;if(c){var v=!1;return a&&(v=Tc(u,f,h,l,c,o,t,n)),!v&&i&&(v=Vo(this,t,n)),v}else{var p=o/2;if(i&&a)return Pt(u-p,f-p,h+p,l+p,t,n);if(i)return Pt(u,f,h,l,t,n);if(a)return kc(u,f,h,l,o,t,n)}},r.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.width,s=n.height,u=n.radius;if(t.beginPath(),u===0)t.rect(a,i,o,s);else{var f=Jl(u),h=f[0],l=f[1],c=f[2],p=f[3];t.moveTo(a+h,i),t.lineTo(a+o-l,i),l!==0&&t.arc(a+o-l,i+l,l,-Math.PI/2,0),t.lineTo(a+o,i+s-c),c!==0&&t.arc(a+o-c,i+s-c,c,0,Math.PI/2),t.lineTo(a+p,i+s),p!==0&&t.arc(a+p,i+s-p,p,Math.PI/2,Math.PI),t.lineTo(a,i+h),h!==0&&t.arc(a+h,i+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(J),Ic=Dc,Ec=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=de(t)},r.prototype._setText=function(t){var n=null;E(t)&&t.indexOf(`
`)!==-1&&(n=t.split(`
`)),this.set("textArr",n)},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(n)},r.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,a=t.fontSize*1;return n?n-a:a*.14},r.prototype._drawTextArr=function(t,n,a){var i=this.attrs,o=i.textBaseline,s=i.x,u=i.y,f=i.fontSize*1,h=this._getSpaceingY(),l=ge(i.text,i.fontSize,i.lineHeight),c;A(n,function(p,v){c=u+v*(h+f)-l+f,o==="middle"&&(c+=l-f-(l-f)/2),o==="top"&&(c+=l-f),b(p)||(a?t.fillText(p,s,c):t.strokeText(p,s,c))})},r.prototype._drawText=function(t,n){var a=this.attr(),i=a.x,o=a.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,n);else{var u=a.text;b(u)||(n?t.fillText(u,i,o):t.strokeText(u,i,o))}},r.prototype.strokeAndFill=function(t){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isStroke()&&a>0&&(!b(o)&&o!==1&&(t.globalAlpha=i),this.stroke(t)),this.isFill()&&(!b(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=i):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(J),Oc=Ec;function _c(e,r){if(r){var t=se(r);return ut(t,e)}return e}function jo(e,r,t){var n=e.getTotalMatrix();if(n){var a=_c([r,t,1],n),i=a[0],o=a[1];return[i,o]}return[r,t]}function gi(e,r,t){if(e.isCanvas&&e.isCanvas())return!0;if(!sr(e)||e.cfg.isInView===!1)return!1;if(e.cfg.clipShape){var n=jo(e,r,t),a=n[0],i=n[1];if(e.isClipped(a,i))return!1}var o=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function Qo(e,r,t){if(!gi(e,r,t))return null;for(var n=null,a=e.getChildren(),i=a.length,o=i-1;o>=0;o--){var s=a[o];if(s.isGroup())n=Qo(s,r,t);else if(gi(s,r,t)){var u=s,f=jo(s,r,t),h=f[0],l=f[1];u.isInShape(h,l)&&(n=s)}if(n)break}return n}var Bc=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return ae},r.prototype.getGroupBase=function(){return Xn},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Wl();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},r.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var a=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*t,i.height=o*n,o>1&&a.scale(o,o)},r.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},r.prototype.getShape=function(t,n){var a;return this.get("quickHit")?a=Qo(this,t,n):a=e.prototype.getShape.call(this,t,n,null),a},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),n=this.getViewRange(),a;if(t.length&&t[0]===this)a=n;else if(a=ec(t),a){a.minX=Math.floor(a.minX),a.minY=Math.floor(a.minY),a.maxX=Math.ceil(a.maxX),a.maxY=Math.ceil(a.maxY),a.maxY+=1;var i=this.get("clipView");i&&(a=nc(a,n))}return a},r.prototype.refreshElement=function(t){var n=this.get("refreshElements");n.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Ps(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),a=this.getChildren();t.clearRect(0,0,n.width,n.height),$t(t,this),cn(t,a),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),a=this.getChildren(),i=this._getRefreshRegion();i?(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),$t(t,this),Kl(this,a,i),cn(t,a,i),t.restore()):n.length&&zo(n),A(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,n=this.get("drawFrame");n||(n=Ss(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",n))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(fe),Lc="0.5.12",sp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Shape:ae,version:Lc,Canvas:Bc,Group:Xn,getArcParams:ln,Event:Mn,Base:wn,AbstractCanvas:fe,AbstractGroup:he,AbstractShape:le,getBBoxMethod:ce,getTextHeight:ge,assembleFont:de,isAllowCapture:sr,multiplyVec2:ut,invert:se,getOffScreenContext:pe,PathUtil:xn}),pn={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},T={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function G(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Jo(e){var r=pn[e.type],t=e.getParent();if(!r)throw new Error("the type "+e.type+" is not supported by svg");var n=G(r);if(e.get("id")&&(n.id=e.get("id")),e.set("el",n),e.set("attrs",{}),t){var a=t.get("el");a||(a=t.createDom(),t.set("el",a)),a.appendChild(n)}return n}function Ko(e,r){var t=e.get("el"),n=_s(t.children).sort(r),a=document.createDocumentFragment();n.forEach(function(i){a.appendChild(i)}),t.appendChild(a)}function Yc(e,r){var t=e.parentNode,n=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),a=n[r],i=n.indexOf(e);if(a){if(i>r)t.insertBefore(e,a);else if(i<r){var o=n[r+1];o?t.insertBefore(e,o):t.appendChild(e)}}else t.appendChild(e)}function Fc(e,r){var t=e.cfg.el,n=e.attr(),a={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!a.dx&&!a.dy&&!a.blur&&!a.color)t.removeAttribute("filter");else{var i=r.find("filter",a);i||(i=r.addShadow(a)),t.setAttribute("filter","url(#"+i+")")}}function xr(e){var r=e.attr().matrix;if(r){for(var t=e.cfg.el,n=[],a=0;a<9;a+=3)n.push(r[a]+","+r[a+1]);n=n.join(","),n.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",r)}}function pr(e,r){var t=e.getClip(),n=e.get("el");if(!t)n.removeAttribute("clip-path");else if(t&&!n.hasAttribute("clip-path")){Jo(t),t.createPath(r);var a=r.addClip(t);n.setAttribute("clip-path","url(#"+a+")")}}function ts(e,r){r.forEach(function(t){t.draw(e)})}function rs(e,r){var t=e.get("canvas");if(t&&t.get("autoDraw")){var n=t.get("context"),a=e.getParent(),i=a?a.getChildren():[t],o=e.get("el");if(r==="remove"){var s=e.get("isClipShape");if(s){var u=o&&o.parentNode,f=u&&u.parentNode;u&&f&&f.removeChild(u)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")Yc(o,i.indexOf(e));else if(r==="sort"){var h=e.get("children");h&&h.length&&Ko(e,function(l,c){return h.indexOf(l)-h.indexOf(c)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?xr(e):r==="clip"?pr(e,n):r==="attr"||r==="add"&&e.draw(n)}}var $n=function(e){P(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=G("g");this.set("el",t);var n=this.getParent();if(n){var a=n.get("el");a||(a=n.createDom(),n.set("el",a)),a.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.createPath(a,t)}},r.prototype.onCanvasChange=function(t){rs(this,t)},r.prototype.getShapeBase=function(){return ie},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var n=this.getChildren(),a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||this.createDom(),pr(this,t),this.createPath(t),n.length&&ts(t,n))},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");A(n||a,function(o,s){T[s]&&i.setAttribute(T[s],o)}),xr(this)},r}(he),Nc=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.draw(a,t)}},r.prototype.getShapeBase=function(){return ie},r.prototype.getGroupBase=function(){return $n},r.prototype.onCanvasChange=function(t){rs(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),n=null;if(t)n=t.getBBox();else{var a=ce(this.get("type"));a&&(n=a(this))}if(n){var i=n.x,o=n.y,s=n.width,u=n.height,f=this.getHitLineWidth(),h=f/2,l=i-h,c=o-h,p=i+s+h,v=o+u+h;return{x:l,y:c,minX:l,minY:c,maxX:p,maxY:v,width:s+f,height:u+f}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),n=t.fill,a=t.fillStyle;return(n||a||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),n=t.stroke,a=t.strokeStyle;return(n||a)&&this.canStroke},r.prototype.draw=function(t,n){var a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||Jo(this),pr(this,t),this.createPath(t,n),this.shadow(t,n),this.strokeAndFill(t,n),this.transform(n))},r.prototype.createPath=function(t,n){},r.prototype.strokeAndFill=function(t,n){var a=n||this.attr(),i=a.fill,o=a.fillStyle,s=a.stroke,u=a.strokeStyle,f=a.fillOpacity,h=a.strokeOpacity,l=a.lineWidth,c=this.get("el");this.canFill&&(n?"fill"in a?this._setColor(t,"fill",i):"fillStyle"in a&&this._setColor(t,"fill",o):this._setColor(t,"fill",i||o),f&&c.setAttribute(T.fillOpacity,f)),this.canStroke&&l>0&&(n?"stroke"in a?this._setColor(t,"stroke",s):"strokeStyle"in a&&this._setColor(t,"stroke",u):this._setColor(t,"stroke",s||u),h&&c.setAttribute(T.strokeOpacity,h),l&&c.setAttribute(T.lineWidth,l))},r.prototype._setColor=function(t,n,a){var i=this.get("el");if(!a){i.setAttribute(T[n],"none");return}if(a=a.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(a)){var o=t.find("gradient",a);o||(o=t.addGradient(a)),i.setAttribute(T[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(a)){var o=t.find("pattern",a);o||(o=t.addPattern(a)),i.setAttribute(T[n],"url(#"+o+")")}else i.setAttribute(T[n],a)},r.prototype.shadow=function(t,n){var a=this.attr(),i=n||a,o=i.shadowOffsetX,s=i.shadowOffsetY,u=i.shadowBlur,f=i.shadowColor;(o||s||u||f)&&Fc(this,t)},r.prototype.transform=function(t){var n=this.attr(),a=(t||n).matrix;a&&xr(this)},r.prototype.isInShape=function(t,n){return this.isPointInPath(t,n)},r.prototype.isPointInPath=function(t,n){var a=this.get("el"),i=this.get("canvas"),o=i.get("el").getBoundingClientRect(),s=t+o.left,u=n+o.top,f=document.elementFromPoint(s,u);return!!(f&&f.isEqualNode(a))},r.prototype.getHitLineWidth=function(){var t=this.attrs,n=t.lineWidth,a=t.lineAppendWidth;return this.isStroke()?n+a:0},r}(le),q=Nc,Rc=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");A(n||a,function(o,s){s==="x"||s==="y"?i.setAttribute("c"+s,o):T[s]&&i.setAttribute(T[s],o)})},r}(q),Xc=Rc,Hc=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");if(A(n||a,function(f,h){T[h]&&i.setAttribute(T[h],f)}),typeof a.html=="function"){var o=a.html.call(this,a);if(o instanceof Element||o instanceof HTMLDocument){for(var s=i.childNodes,u=s.length-1;u>=0;u--)i.removeChild(s[u]);i.appendChild(o)}else i.innerHTML=o}else i.innerHTML=a.html},r}(q),$c=Hc,Wc=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");A(n||a,function(o,s){s==="x"||s==="y"?i.setAttribute("c"+s,o):T[s]&&i.setAttribute(T[s],o)})},r}(q),zc=Wc,Gc=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");A(n||i,function(s,u){u==="img"?a._setImage(i.img):T[u]&&o.setAttribute(T[u],s)})},r.prototype.setAttr=function(t,n){this.attrs[t]=n,t==="img"&&this._setImage(n)},r.prototype._setImage=function(t){var n=this.attr(),a=this.get("el");if(E(t))a.setAttribute("href",t);else if(t instanceof window.Image)n.width||(a.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(a.setAttribute("height",t.height),this.attr("height",t.height)),a.setAttribute("href",t.src);else if(t instanceof HTMLElement&&E(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")a.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",""+t.width),i.setAttribute("height",""+t.height),i.getContext("2d").putImageData(t,0,0),n.width||(a.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(a.setAttribute("height",""+t.height),this.attr("height",t.height)),a.setAttribute("href",i.toDataURL())}},r}(q),qc=Gc,Vc=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");A(n||a,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var u=rt(o)?t.addArrow(a,T[s]):t.getDefaultArrow(a,T[s]);i.setAttribute(T[s],"url(#"+u+")")}else i.removeAttribute(T[s]);else T[s]&&i.setAttribute(T[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2;return _.length(n,a,i,o)},r.prototype.getPoint=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,s=n.y2;return _.pointAt(a,i,o,s,t)},r}(q),Uc=Vc,Rr={circle:function(e,r,t){return[["M",e,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["z"]]},triangleDown:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},di={get:function(e){return Rr[e]},register:function(e,r){Rr[e]=r},remove:function(e){delete Rr[e]},getAll:function(){return Rr}},Zc=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return D(t)?t.map(function(n){return n.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),n=t.x,a=t.y,i=t.r||t.radius,o=t.symbol||"circle",s;return R(o)?s=o:s=di.get(o),s?s(n,a,i):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=di,r}(q),jc=Zc,Qc=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");A(n||i,function(s,u){if(u==="path"&&D(s))o.setAttribute("d",a._formatPath(s));else if(u==="startArrow"||u==="endArrow")if(s){var f=rt(s)?t.addArrow(i,T[u]):t.getDefaultArrow(i,T[u]);o.setAttribute(T[u],"url(#"+f+")")}else o.removeAttribute(T[u]);else T[u]&&o.setAttribute(T[u],s)})},r.prototype._formatPath=function(t){var n=t.map(function(a){return a.join(" ")}).join("");return~n.indexOf("NaN")?"":n},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var n=this.get("el"),a=this.getTotalLength();if(a===0)return null;var i=n?n.getPointAtLength(t*a):null;return i?{x:i.x,y:i.y}:null},r}(q),Jc=Qc,Kc=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");A(n||a,function(o,s){s==="points"&&D(o)&&o.length>=2?i.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):T[s]&&i.setAttribute(T[s],o)})},r}(q),tv=Kc,rv=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");A(n||a,function(o,s){s==="points"&&D(o)&&o.length>=2?i.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):T[s]&&i.setAttribute(T[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return b(n)?(this.set("totalLength",fo.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return A(a,function(s,u){t>=s[0]&&t<=s[1]&&(i=(t-s[0])/(s[1]-s[0]),o=u)}),_.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,s;A(t,function(u,f){t[f+1]&&(o=[],o[0]=a/n,s=_.length(u[0],u[1],t[f+1][0],t[f+1][1]),a+=s,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,a=[];return a.push([t[n-1][0],t[n-1][1]]),a.push([t[n][0],t[n][1]]),a},r}(q),ev=rv;function nv(e){var r=0,t=0,n=0,a=0;return D(e)?e.length===1?r=t=n=a=e[0]:e.length===2?(r=n=e[0],t=a=e[1]):e.length===3?(r=e[0],t=a=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],a=e[3]):r=t=n=a=e,{r1:r,r2:t,r3:n,r4:a}}var av=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el"),s=!1,u=["x","y","width","height","radius"];A(n||i,function(f,h){u.indexOf(h)!==-1&&!s?(o.setAttribute("d",a._assembleRect(i)),s=!0):u.indexOf(h)===-1&&T[h]&&o.setAttribute(T[h],f)})},r.prototype._assembleRect=function(t){var n=t.x,a=t.y,i=t.width,o=t.height,s=t.radius;if(!s)return"M "+n+","+a+" l "+i+",0 l 0,"+o+" l"+-i+" 0 z";var u=nv(s);D(s)?s.length===1?u.r1=u.r2=u.r3=u.r4=s[0]:s.length===2?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):s.length===3?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s;var f=[["M "+(n+u.r1)+","+a],["l "+(i-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-i)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]];return f.join(" ")},r}(q),iv=av,mi=.3,ov={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},sv={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},uv={left:"left",start:"left",center:"middle",right:"end",end:"end"},fv=function(e){P(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return k(k({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");this._setFont(),A(n||i,function(s,u){u==="text"?a._setText(""+s):u==="matrix"&&s?xr(a):T[u]&&o.setAttribute(T[u],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),n=this.attr(),a=n.textBaseline,i=n.textAlign,o=Bi();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",sv[a]||"alphabetic"):t.setAttribute("alignment-baseline",ov[a]||"baseline"),t.setAttribute("text-anchor",uv[i]||"left")},r.prototype._setText=function(t){var n=this.get("el"),a=this.attr(),i=a.x,o=a.textBaseline,s=o===void 0?"bottom":o;if(!t)n.innerHTML="";else if(~t.indexOf(`
`)){var u=t.split(`
`),f=u.length-1,h="";A(u,function(l,c){c===0?s==="alphabetic"?h+='<tspan x="'+i+'" dy="'+-f+'em">'+l+"</tspan>":s==="top"?h+='<tspan x="'+i+'" dy="0.9em">'+l+"</tspan>":s==="middle"?h+='<tspan x="'+i+'" dy="'+-(f-1)/2+'em">'+l+"</tspan>":s==="bottom"?h+='<tspan x="'+i+'" dy="-'+(f+mi)+'em">'+l+"</tspan>":s==="hanging"&&(h+='<tspan x="'+i+'" dy="'+(-(f-1)-mi)+'em">'+l+"</tspan>"):h+='<tspan x="'+i+'" dy="1em">'+l+"</tspan>"}),n.innerHTML=h}else n.innerHTML=t},r}(q),hv=fv,lv=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,cv=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,vv=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function es(e){var r=e.match(vv);if(!r)return"";var t="";return r.sort(function(n,a){return n=n.split(":"),a=a.split(":"),Number(n[0])-Number(a[0])}),A(r,function(n){n=n.split(":"),t+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),t}function pv(e,r){var t=lv.exec(e),n=dn(mn(parseFloat(t[1])),Math.PI*2),a=t[2],i,o;n>=0&&n<.5*Math.PI?(i={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(i={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(i={x:1,y:1},o={x:0,y:0}):(i={x:0,y:1},o={x:1,y:0});var s=Math.tan(n),u=s*s,f=(o.x-i.x+s*(o.y-i.y))/(u+1)+i.x,h=s*(o.x-i.x+s*(o.y-i.y))/(u+1)+i.y;r.setAttribute("x1",i.x),r.setAttribute("y1",i.y),r.setAttribute("x2",f),r.setAttribute("y2",h),r.innerHTML=es(a)}function gv(e,r){var t=cv.exec(e),n=parseFloat(t[1]),a=parseFloat(t[2]),i=parseFloat(t[3]),o=t[4];r.setAttribute("cx",n),r.setAttribute("cy",a),r.setAttribute("r",i),r.innerHTML=es(o)}var dv=function(){function e(r){this.cfg={};var t=null,n=Ot("gradient_");return r.toLowerCase()[0]==="l"?(t=G("linearGradient"),pv(r,t)):(t=G("radialGradient"),gv(r,t)),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=r,this}return e.prototype.match=function(r,t){return this.cfg===t},e}(),mv={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},yv={x:"-40%",y:"-40%",width:"200%",height:"200%"},xv=function(){function e(r){this.type="filter",this.cfg={},this.type="filter";var t=G("filter");return A(yv,function(n,a){t.setAttribute(a,n)}),this.el=t,this.id=Ot("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return e.prototype.match=function(r,t){if(this.type!==r)return!1;var n=!0,a=this.cfg;return A(Object.keys(a),function(i){if(a[i]!==t[i])return n=!1,!1}),n},e.prototype.update=function(r,t){var n=this.cfg;return n[mv[r]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(r,t){var n=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=n},e}(),yi=function(){function e(r,t){this.cfg={};var n=G("marker"),a=Ot("marker_");n.setAttribute("id",a);var i=G("path");i.setAttribute("stroke",r.stroke||"none"),i.setAttribute("fill",r.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=a;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,i):(this.cfg=o,this._setMarker(r.lineWidth,i)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(r,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY",""+5)},e.prototype._setMarker=function(r,t){var n=this.el,a=this.cfg.path,i=this.cfg.d;D(a)&&(a=a.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",a),n.appendChild(t),i&&n.setAttribute("refX",""+i/r)},e.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},e}(),Mv=function(){function e(r){this.type="clip",this.cfg={};var t=G("clipPath");this.el=t,this.id=Ot("clip_"),t.id=this.id;var n=r.cfg.el;return t.appendChild(n),this.cfg=r,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},e}(),wv=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Av=function(){function e(r){this.cfg={};var t=G("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=G("image");t.appendChild(n);var a=Ot("pattern_");t.id=a,this.el=t,this.id=a,this.cfg=r;var i=wv.exec(r),o=i[2];n.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function u(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?u():(s.onload=u,s.src=s.src),this}return e.prototype.match=function(r,t){return this.cfg===t},e}(),Cv=function(){function e(r){var t=G("defs"),n=Ot("defs_");t.id=n,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return e.prototype.find=function(r,t){for(var n=this.children,a=null,i=0;i<n.length;i++)if(n[i].match(r,t)){a=n[i].id;break}return a},e.prototype.findById=function(r){for(var t=this.children,n=null,a=0;a<t.length;a++)if(t[a].id===r){n=t[a];break}return n},e.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},e.prototype.getDefaultArrow=function(r,t){var n=r.stroke||r.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var a=new yi(r,t);return this.defaultArrow[n]=a,this.el.appendChild(a.el),this.add(a),a.id},e.prototype.addGradient=function(r){var t=new dv(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(r,t){var n=new yi(r,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(r){var t=new xv(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(r){var t=new Av(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(r){var t=new Mv(r);return this.el.appendChild(t.el),this.add(t),t.id},e}(),bv=function(e){P(r,e);function r(t){return e.call(this,k(k({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return ie},r.prototype.getGroupBase=function(){return $n},r.prototype.getShape=function(t,n,a){var i=a.target||a.srcElement;if(!pn[i.tagName]){for(var o=i.parentNode;o&&!pn[o.tagName];)o=o.parentNode;i=o}return this.find(function(s){return s.get("el")===i})},r.prototype.createDom=function(){var t=G("svg"),n=new Cv(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",n),t},r.prototype.onCanvasChange=function(t){var n=this.get("context"),a=this.get("el");if(t==="sort"){var i=this.get("children");i&&i.length&&Ko(this,function(s,u){return i.indexOf(s)-i.indexOf(u)?1:0})}else if(t==="clear"){if(a){a.innerHTML="";var o=n.el;o.innerHTML="",a.appendChild(o)}}else t==="matrix"?xr(this):t==="clip"?pr(this,n):t==="changeSize"&&(a.setAttribute("width",""+this.get("width")),a.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),n=this.getChildren();pr(this,t),n.length&&ts(t,n)},r}(fe),Sv="0.5.6",up=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Shape:ie,version:Sv,Canvas:bv,Group:$n,Event:Mn,Base:wn,AbstractCanvas:fe,AbstractGroup:he,AbstractShape:le,getBBoxMethod:ce,getTextHeight:ge,assembleFont:de,isAllowCapture:sr,multiplyVec2:ut,invert:se,getOffScreenContext:pe,PathUtil:xn});export{Nv as $,Vr as A,Rv as B,rr as C,k as D,Rs as E,Vv as F,os as G,Zv as H,Iv as I,hs as J,Qv as K,$e as L,zr as M,ep as N,Kv as O,Gv as P,oo as Q,rp as R,tp as S,$r as T,Si as U,Ni as V,Mu as W,zt as X,Zt as Y,Hv as Z,P as _,E as a,ss as a0,$h as a1,Ft as a2,ap as a3,wt as a4,Do as a5,En as a6,Jv as a7,Ds as a8,Xe as a9,Wr as aA,zv as aB,ch as aC,ds as aD,kh as aE,Xl as aF,Wv as aG,gn as aH,wu as aI,Lv as aJ,yn as aK,ln as aL,sp as aM,up as aN,Et as aO,ls as aP,cs as aQ,Tv as aR,Dv as aS,Pv as aT,kv as aU,Ov as aa,fl as ab,xi as ac,Au as ad,$v as ae,Yv as af,Xv as ag,bt as ah,St as ai,Pe as aj,na as ak,Dr as al,ip as am,qv as an,jv as ao,ir as ap,Ai as aq,Ev as ar,us as as,Ms as at,Fv as au,op as av,Mn as aw,Q as ax,Uv as ay,Bv as az,D as b,rt as c,$ as d,A as e,Ot as f,Gr as g,j as h,R as i,Z as j,qi as k,ga as l,or as m,br as n,Qr as o,kf as p,Bi as q,_v as r,b as s,Fi as t,Mi as u,Wt as v,lo as w,jf as x,Kt as y,np as z};
