import{b as h,J as x,a as N,r as k,c as r,j as q,q as w,w as a,f as e,l as t,n as F,t as U}from"./index-e0fe89ec.js";import{s as y}from"./personal_center_service-e3d0a6ad.js";const C=F("\u63D0\u4EA4"),I={name:"change_base_info"},S=Object.assign(I,{setup(j){const d=h(),u=x(()=>d.state.userInfo).value,_=N(),o=k({vm:{name:u.name,loginName:u.loginName,phone:u.phone,email:u.email}}),f={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D",trigger:"blur"}],loginName:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D\u79F0",trigger:"blur"}],phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD",trigger:"blur"}],email:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",trigger:"blur"}]},c={saveForm(){_.value.validate().then(()=>{y.saveForm(o.vm).then(i=>{i.code==1&&d.refreshUserInfo().then(()=>{U.message("\u64CD\u4F5C\u6210\u529F!","\u6210\u529F")})})}).catch(i=>{console.log("error",i)})},resetForm(){_.value.resetFields()}};return(i,l)=>{const p=r("a-input"),s=r("a-form-item"),m=r("a-col"),v=r("a-button"),g=r("a-row"),b=r("a-form");return q(),w(b,{layout:"vertical",ref_key:"formRef",ref:_,model:t(o).vm,rules:f},{default:a(()=>[e(g,{gutter:[15,15]},{default:a(()=>[e(m,{xs:24},{default:a(()=>[e(s,{label:"\u771F\u5B9E\u59D3\u540D",name:"name"},{default:a(()=>[e(p,{value:t(o).vm.name,"onUpdate:value":l[0]||(l[0]=n=>t(o).vm.name=n),placeholder:"\u771F\u5B9E\u59D3\u540D"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(s,{label:"\u8D26\u6237\u540D\u79F0",name:"loginName"},{default:a(()=>[e(p,{value:t(o).vm.loginName,"onUpdate:value":l[1]||(l[1]=n=>t(o).vm.loginName=n),placeholder:"\u8D26\u6237\u540D\u79F0"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(s,{label:"\u8054\u7CFB\u7535\u8BDD",name:"phone"},{default:a(()=>[e(p,{value:t(o).vm.phone,"onUpdate:value":l[2]||(l[2]=n=>t(o).vm.phone=n),placeholder:"\u8054\u7CFB\u7535\u8BDD"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(s,{label:"\u90AE\u7BB1",name:"email"},{default:a(()=>[e(p,{value:t(o).vm.email,"onUpdate:value":l[3]||(l[3]=n=>t(o).vm.email=n),placeholder:"\u90AE\u7BB1"},null,8,["value"])]),_:1})]),_:1}),e(m,{xs:24},{default:a(()=>[e(s,{"wrapper-col":{span:14}},{default:a(()=>[e(v,{type:"primary",onClick:c.saveForm},{default:a(()=>[C]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});export{S as default};
